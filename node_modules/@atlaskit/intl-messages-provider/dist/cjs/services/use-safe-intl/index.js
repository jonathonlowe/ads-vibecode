"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useSafeIntl = void 0;
var _react = require("react");
var _reactIntlNext = require("react-intl-next");
var _constants = require("../../common/constants");
// Prevents memory leaks
var cache = (0, _reactIntlNext.createIntlCache)();

/**
 * Returns current context from `IntlShape`. When there is no context returns
 * an `IntlShape` with default `{locale: 'en', messages: {}}`
 * Removes the need for an `IntlProvodier` to be present in the DOM Tree
 */
var useSafeIntl = exports.useSafeIntl = function useSafeIntl() {
  var context = (0, _react.useContext)(_reactIntlNext.IntlContext);
  if (!context) {
    return (0, _reactIntlNext.createIntl)(_constants.DEFAULT_LOCALE_STATE, cache);
  }
  return context;
};