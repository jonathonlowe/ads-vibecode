"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.betterTypeHistoryPlugin = void 0;
var _main = _interopRequireDefault(require("./pm-plugins/main"));
var _pluginKey = require("./pm-plugins/plugin-key");
/**
 * This plugin is aiming to improve undo behaviour for some of our more custom applications, very specific text
 * paste events, splitting blocks of text, new lines.
 */
var betterTypeHistoryPlugin = exports.betterTypeHistoryPlugin = function betterTypeHistoryPlugin() {
  return {
    name: 'betterTypeHistory',
    actions: {
      flagPasteEvent: function flagPasteEvent(tr) {
        tr.setMeta(_pluginKey.pluginKey, true);
        return tr;
      }
    },
    pmPlugins: function pmPlugins() {
      return [{
        name: 'betterTypeHistory',
        plugin: function plugin() {
          return (0, _main.default)();
        }
      }];
    }
  };
};