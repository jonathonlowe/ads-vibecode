"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.onHidden = void 0;
// Adapted from https://github.com/GoogleChrome/web-vitals/blob/main/src/lib/onHidden.ts

var onHidden = exports.onHidden = function onHidden(cb) {
  var handleVisibilityChange = function handleVisibilityChange() {
    if (document.visibilityState === 'hidden') {
      cb();
    }
  };

  // eslint-disable-next-line @repo/internal/dom-events/no-unsafe-event-listeners
  document.addEventListener('visibilitychange', handleVisibilityChange);
  return function () {
    // eslint-disable-next-line @repo/internal/dom-events/no-unsafe-event-listeners
    document.removeEventListener('visibilitychange', handleVisibilityChange);
  };
};