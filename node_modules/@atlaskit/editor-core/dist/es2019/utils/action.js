// Please, do not copy or use this kind of code below
// @ts-ignore
const mediaPluginKey = {
  key: 'mediaPlugin$',
  getState: state => {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    return state['mediaPlugin$'];
  }
};
export async function getEditorValueWithMedia(editorView) {
  const mediaPluginState = editorView.state && mediaPluginKey.getState(editorView.state);
  if (mediaPluginState && mediaPluginState.waitForMediaUpload) {
    await mediaPluginState.waitForPendingTasks();
  }
  return editorView.state.doc;
}