import { SafePlugin } from '@atlaskit/editor-common/safe-plugin';
import { PluginKey } from '@atlaskit/editor-prosemirror/state';
import { LayoutSectionView } from '../nodeviews';
export const pluginKey = new PluginKey('layoutResizingPlugin');
export default ((options, pluginInjectionApi, portalProviderAPI, eventDispatcher) => new SafePlugin({
  key: pluginKey,
  props: {
    nodeViews: {
      layoutSection: (node, view, getPos) => {
        return new LayoutSectionView({
          node,
          view,
          getPos,
          portalProviderAPI,
          eventDispatcher,
          pluginInjectionApi,
          options
        }).init();
      }
    }
  }
}));