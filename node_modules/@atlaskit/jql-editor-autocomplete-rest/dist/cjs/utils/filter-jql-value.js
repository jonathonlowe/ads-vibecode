"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.filterJqlValue = void 0;
var _strings = require("./strings");
var filterJqlValue = exports.filterJqlValue = function filterJqlValue(_ref, query) {
  var displayName = _ref.displayName,
    value = _ref.value;
  if (typeof query !== 'string' || query === '') {
    return true;
  }
  var normalizedQuery = (0, _strings.normalize)(query);
  var normalizedDisplayName = (0, _strings.normalize)(displayName);
  var normalizedValue = (0, _strings.normalize)(value);

  // If query is quoted, then we only return exact matches with the JQL value
  if ((0, _strings.isQuoted)(query)) {
    return (0, _strings.areStringsEquivalent)(normalizedQuery, normalizedValue);
  }
  return (0, _strings.areStringsEquivalent)(normalizedQuery, normalizedDisplayName.substring(0, normalizedQuery.length)) || (0, _strings.areStringsEquivalent)(normalizedQuery, normalizedValue.substring(0, normalizedQuery.length));
};