import _defineProperty from "@babel/runtime/helpers/defineProperty";
import { internalCreators } from '../creators';
import { getPositionFromContext, JastBuildingVisitor } from './common';
import { StringVisitor } from './string';
export class ArgumentVisitor extends JastBuildingVisitor {
  constructor(...args) {
    super(...args);
    _defineProperty(this, "stringVisitor", new StringVisitor(this.tokens));
    _defineProperty(this, "visitJqlArgument", ctx => {
      const stringContext = ctx.jqlString();
      if (stringContext !== undefined) {
        const stringValue = stringContext.accept(this.stringVisitor);
        return internalCreators.argument(stringValue.value, stringValue.text, stringValue.position);
      } else {
        const text = this.tokens.getText(ctx);
        return internalCreators.argument(text, text, getPositionFromContext(ctx));
      }
    });
  }
}