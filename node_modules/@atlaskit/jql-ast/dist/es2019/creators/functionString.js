import { sanitiseJqlString } from '../utils/sanitise-jql-string';
import { noChildren } from './common';
function acceptFunctionString(visitor) {
  return visitor.visitFunction ? visitor.visitFunction(this) : visitor.visitChildren(this);
}
function enterNode(listener) {
  listener.enterFunction && listener.enterFunction(this);
}
function exitNode(listener) {
  listener.exitFunction && listener.exitFunction(this);
}
export const functionString = value => functionStringInternal(value, sanitiseJqlString(value));
export const functionStringInternal = (value, text, position = null) => ({
  text,
  value,
  position,
  accept: acceptFunctionString,
  enterNode,
  exitNode,
  getChildren: noChildren,
  parent: null
});