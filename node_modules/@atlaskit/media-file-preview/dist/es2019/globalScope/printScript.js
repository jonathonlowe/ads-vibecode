import { fg } from '@atlaskit/platform-feature-flags';
const printParam = param => {
  if (typeof param === 'string') {
    return `'${param}'`;
  } else if (typeof param === 'object') {
    return JSON.stringify(param);
  } else if (param === undefined) {
    return 'undefined';
  }
  return param;
};
const printParams = args => args.map(arg => printParam(arg)).join(',');
export const printFunctionCall = (fn, ...args) => `(${fn.toString()})(${printParams(args)});`;

// Removing the script tag after execution to prevent hydration
// mismatch issues after SSR. We don't want to render different
// HTML on the client and server https://react.dev/reference/react-dom/client/hydrateRoot
export const printScript = statements => fg('platform_remove_media_script_after_execution') ? `(function(){
 			 ${statements.join(';')}
  			document.currentScript.remove();
		})();
		` : `(function(){
   			${statements.join(';')}
 		})();`;