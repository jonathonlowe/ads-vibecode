"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.naturalSizeRectangle = exports.clientRectangle = void 0;
exports.zoomLevelAfterResize = zoomLevelAfterResize;
var _mediaUi = require("@atlaskit/media-ui");
var _zoomLevel = require("../../domain/zoomLevel");
var clientRectangle = exports.clientRectangle = function clientRectangle(el) {
  var clientWidth = el.clientWidth,
    clientHeight = el.clientHeight;
  return new _mediaUi.Rectangle(clientWidth, clientHeight);
};
var naturalSizeRectangle = exports.naturalSizeRectangle = function naturalSizeRectangle(el) {
  // Firefox & Safari can't always read the "natural" dimensions correctly.
  // When these are undefined or zero, we replace them with the rendered values
  var naturalWidth = el.naturalWidth,
    naturalHeight = el.naturalHeight,
    width = el.width,
    height = el.height;
  return new _mediaUi.Rectangle(naturalWidth || width, naturalHeight || height);
};
function zoomLevelAfterResize(newCamera, oldCamera, oldZoomLevel) {
  var isImgScaledToFit = oldZoomLevel.value === oldCamera.scaleDownToFit;
  var zoomLevelToRefit = new _zoomLevel.ZoomLevel(newCamera.scaleDownToFit);
  return isImgScaledToFit ? zoomLevelToRefit : oldZoomLevel;
}