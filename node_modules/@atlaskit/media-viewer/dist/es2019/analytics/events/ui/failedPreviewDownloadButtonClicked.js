import { getFileAttributes } from '../..';
import { getPrimaryErrorReason } from '../../../errors';
export const createFailedPreviewDownloadButtonClickedEvent = (fileState, error) => {
  const {
    fileId,
    fileMediatype,
    fileMimetype,
    fileSize
  } = getFileAttributes(fileState);
  return {
    eventType: 'ui',
    action: 'clicked',
    actionSubject: 'button',
    actionSubjectId: 'failedPreviewDownloadButton',
    attributes: {
      failReason: getPrimaryErrorReason(error),
      fileAttributes: {
        fileId,
        fileMediatype,
        fileMimetype,
        fileSize
      },
      fileProcessingStatus: fileState.status
    }
  };
};