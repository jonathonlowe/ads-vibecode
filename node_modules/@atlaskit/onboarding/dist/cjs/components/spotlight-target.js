"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _platformFeatureFlags = require("@atlaskit/platform-feature-flags");
var _nodeResolverSpotlightTarget = _interopRequireDefault(require("./node-resolver-spotlight-target"));
var _spotlightManager = require("./spotlight-manager");
/**
 * __Spotlight target__
 *
 * A spotlight target marks a component to be used for introducing new features to users through focused messages or multi-step tours.
 *
 * - [Examples](https://atlassian.design/components/onboarding/examples)
 * - [Code](https://atlassian.design/components/onboarding/code)
 * - [Usage](https://atlassian.design/components/onboarding/usage)
 */
var SpotlightTarget = function SpotlightTarget(_ref) {
  var children = _ref.children,
    name = _ref.name;
  return /*#__PURE__*/_react.default.createElement(_spotlightManager.TargetConsumer, null, function (getTargetRef) {
    if (typeof children === 'function') {
      return children({
        targetRef: getTargetRef === null || getTargetRef === void 0 ? void 0 : getTargetRef(name)
      });
    }
    return getTargetRef ? /*#__PURE__*/_react.default.createElement(_nodeResolverSpotlightTarget.default, {
      name: name,
      hasNodeResolver: !(0, _platformFeatureFlags.fg)('platform_design_system_team_onboarding_noderesolve'),
      getTargetRef: getTargetRef
    }, /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, children)) : children;
  });
};
var _default = exports.default = SpotlightTarget;