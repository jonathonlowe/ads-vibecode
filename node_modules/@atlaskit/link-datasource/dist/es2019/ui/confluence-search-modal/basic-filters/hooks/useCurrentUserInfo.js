import { useCallback, useEffect, useState } from 'react';
import { useBasicFilterAGG } from '../../../../services/useBasicFilterAGG';
export const useCurrentUserInfo = () => {
  const [user, setUser] = useState();
  const {
    getCurrentUserInfo: getCurrentUserInfoFromAGG
  } = useBasicFilterAGG();
  const getCurrentUserInfo = useCallback(async () => {
    var _user$data, _user$data$me;
    const user = await getCurrentUserInfoFromAGG();
    setUser((_user$data = user.data) === null || _user$data === void 0 ? void 0 : (_user$data$me = _user$data.me) === null || _user$data$me === void 0 ? void 0 : _user$data$me.user);
  }, [getCurrentUserInfoFromAGG]);
  useEffect(() => {
    getCurrentUserInfo();
  }, [getCurrentUserInfo]);
  return {
    user,
    getCurrentUserInfo
  };
};