import React, { useCallback } from 'react';
import { useIntl } from 'react-intl-next';
import ButtonOld from '@atlaskit/button';
import Button from '@atlaskit/button/new';
import { fg } from '@atlaskit/platform-feature-flags';
import { useDatasourceAnalyticsEvents } from '../../../../../analytics';
import { asyncPopupSelectMessages } from './messages';
const ShowMoreButton = ({
  onShowMore,
  filterName
}) => {
  const {
    formatMessage
  } = useIntl();
  const {
    fireEvent
  } = useDatasourceAnalyticsEvents();
  const handleShowMore = useCallback(() => {
    fireEvent('ui.button.clicked.basicSearchDropdown', {
      filterName,
      type: 'showMore'
    });
    onShowMore();
  }, [filterName, fireEvent, onShowMore]);
  if (fg('platform-linking-visual-refresh-sllv')) {
    return /*#__PURE__*/React.createElement(Button, {
      onClick: handleShowMore,
      appearance: "subtle",
      testId: `${filterName}--show-more-button`,
      spacing: "compact"
    }, formatMessage(asyncPopupSelectMessages.showMoreMessage));
  }
  return /*#__PURE__*/React.createElement(ButtonOld, {
    onClick: handleShowMore,
    appearance: "link",
    testId: `${filterName}--show-more-button`
  }, formatMessage(asyncPopupSelectMessages.showMoreMessage));
};
export default ShowMoreButton;