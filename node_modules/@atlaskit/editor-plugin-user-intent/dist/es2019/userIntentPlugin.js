import { setCurrentUserIntent } from './editor-commands';
import { createPlugin, userIntentPluginKey } from './pm-plugins/main';
export const userIntentPlugin = () => ({
  name: 'userIntent',
  pmPlugins() {
    return [{
      name: 'userIntentPlugin',
      plugin: createPlugin
    }];
  },
  getSharedState: editorState => {
    if (!editorState) {
      return;
    }
    const pluginState = userIntentPluginKey.getState(editorState);
    if (!pluginState) {
      return;
    }
    return {
      currentUserIntent: pluginState.currentUserIntent
    };
  },
  commands: {
    setCurrentUserIntent
  }
});