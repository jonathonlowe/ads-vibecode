import { bufferCount } from 'rxjs/operators/bufferCount';
import { concatMap } from 'rxjs/operators/concatMap';
var processinator = function (probedBlobs$, options) {
    var process = function (probedBlobs) {
        if (options.processor) {
            return options.processor(probedBlobs).then(function () { return probedBlobs; });
        }
        else {
            return Promise.resolve(probedBlobs);
        }
    };
    return probedBlobs$
        .pipe(bufferCount(options.batchSize))
        .pipe(concatMap(process));
};
export { processinator };
//# sourceMappingURL=processinator.js.map