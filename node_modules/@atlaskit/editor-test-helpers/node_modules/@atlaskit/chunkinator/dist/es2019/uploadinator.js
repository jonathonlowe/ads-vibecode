import { asyncMap } from 'rxjs-async-map';
const uploadinator = (probedBlobs$, options) => {
    const upload = (probedBlob) => {
        if (!probedBlob.exists) {
            return options.uploader(probedBlob).then(() => probedBlob);
        }
        else {
            return Promise.resolve(probedBlob);
        }
    };
    return probedBlobs$.pipe(asyncMap(upload, options.concurrency));
};
export { uploadinator };
//# sourceMappingURL=uploadinator.js.map