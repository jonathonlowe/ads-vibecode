import { bufferCount } from 'rxjs/operators/bufferCount';
import { concatMap } from 'rxjs/operators/concatMap';
const processinator = (probedBlobs$, options) => {
    const process = (probedBlobs) => {
        if (options.processor) {
            return options.processor(probedBlobs).then(() => probedBlobs);
        }
        else {
            return Promise.resolve(probedBlobs);
        }
    };
    return probedBlobs$
        .pipe(bufferCount(options.batchSize))
        .pipe(concatMap(process));
};
export { processinator };
//# sourceMappingURL=processinator.js.map