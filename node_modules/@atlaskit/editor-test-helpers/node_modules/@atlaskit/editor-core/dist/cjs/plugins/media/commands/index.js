"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var main_1 = require("../pm-plugins/main");
var helpers_1 = require("./helpers");
var utils_1 = require("../../../utils");
exports.updateMediaNodeAttrs = function (id, attrs, isMediaSingle) { return function (state, dispatch) {
    var mediaPluginState = main_1.stateKey.getState(state);
    var mediaNodeWithPos = helpers_1.findMediaNode(mediaPluginState, id, isMediaSingle);
    if (!mediaNodeWithPos) {
        return false;
    }
    if (dispatch) {
        dispatch(state.tr
            .step(new utils_1.SetAttrsStep(mediaNodeWithPos.getPos(), attrs))
            .setMeta('addToHistory', false));
    }
    return true;
}; };
exports.replaceExternalMedia = function (pos, attrs) { return function (state, dispatch) {
    if (dispatch) {
        dispatch(state.tr
            .step(new utils_1.SetAttrsStep(pos, tslib_1.__assign({ type: 'file', url: null }, attrs)))
            .setMeta('addToHistory', false));
        return true;
    }
    return false;
}; };
//# sourceMappingURL=index.js.map