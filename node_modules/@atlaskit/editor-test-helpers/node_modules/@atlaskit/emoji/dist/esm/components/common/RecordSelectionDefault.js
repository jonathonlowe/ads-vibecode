import { insertionFailed, insertionSucceeded, } from '../../util/analytics';
/**
 * A function that will wrap any configured Emoji 'onSelection' function to ensure recordSelection is always
 * called.
 *
 * @param provider the EmojiProvider which will be called on each emoji selection
 * @param onSelect the onSelect function that is explicitly configured on the Emoji component.
 * @param fireAnalytics a function used to fire analytics events.
 */
export var createRecordSelectionDefault = function (provider, onSelect, fireAnalytics) {
    return function (emojiId, emoji, event) {
        try {
            if (provider.recordSelection && emoji) {
                provider
                    .recordSelection(emoji)
                    .then(function () { return fireAnalytics && fireAnalytics(insertionSucceeded); })
                    .catch(function () { return fireAnalytics && fireAnalytics(insertionFailed); });
            }
        }
        finally {
            if (onSelect) {
                onSelect(emojiId, emoji, event);
            }
        }
    };
};
//# sourceMappingURL=RecordSelectionDefault.js.map