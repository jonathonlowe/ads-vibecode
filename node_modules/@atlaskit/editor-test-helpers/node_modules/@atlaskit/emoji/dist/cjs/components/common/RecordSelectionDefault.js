"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var analytics_1 = require("../../util/analytics");
/**
 * A function that will wrap any configured Emoji 'onSelection' function to ensure recordSelection is always
 * called.
 *
 * @param provider the EmojiProvider which will be called on each emoji selection
 * @param onSelect the onSelect function that is explicitly configured on the Emoji component.
 * @param fireAnalytics a function used to fire analytics events.
 */
exports.createRecordSelectionDefault = function (provider, onSelect, fireAnalytics) {
    return function (emojiId, emoji, event) {
        try {
            if (provider.recordSelection && emoji) {
                provider
                    .recordSelection(emoji)
                    .then(function () { return fireAnalytics && fireAnalytics(analytics_1.insertionSucceeded); })
                    .catch(function () { return fireAnalytics && fireAnalytics(analytics_1.insertionFailed); });
            }
        }
        finally {
            if (onSelect) {
                onSelect(emojiId, emoji, event);
            }
        }
    };
};
//# sourceMappingURL=RecordSelectionDefault.js.map