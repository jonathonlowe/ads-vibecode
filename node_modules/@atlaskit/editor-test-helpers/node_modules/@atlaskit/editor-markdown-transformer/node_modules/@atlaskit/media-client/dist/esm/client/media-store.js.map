{"version":3,"file":"media-store.js","sourceRoot":"","sources":["../../../src/client/media-store.ts"],"names":[],"mappings":"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"}