import { ReactNode } from 'react';
import { ADFEntity } from '@atlaskit/adf-utils';
import { UpdateExtension } from './extension-handler';
import { Parameters } from './extension-parameters';
import { FieldDefinition } from './field-definitions';
export declare type ExtensionType = string;
export declare type ExtensionKey = string;
export declare type ExtensionModuleKey = string;
export declare type Icon = () => Promise<any>;
export declare type Icons = {
    '48': Icon;
    [dimensions: string]: Icon;
};
export declare type ExtensionNodeType = 'extension' | 'inlineExtension' | 'bodiedExtension';
export declare type ExtensionManifest = {
    type: ExtensionType;
    key: ExtensionKey;
    title: string;
    description: string;
    keywords?: string[];
    icons: Icons;
    modules: ExtensionModules;
};
export declare type ExtensionModules = {
    quickInsert?: ExtensionModule[];
    nodes?: ExtensionModuleNodes;
    fields?: ExtensionModuleFields;
};
export declare type ExtensionModuleAction = ExtensionModuleActionObject | ExtensionModuleActionHandler;
export declare type ExtensionModuleActionObject = {
    key: ExtensionModuleKey;
    type: 'node';
    parameters: any;
};
export declare type ExtensionModuleActionHandler = () => AsyncESModule<ADFEntity | void>;
export declare type ExtensionModule = {
    key: string;
    title?: string;
    description?: string;
    icon?: Icon;
    priority?: number;
    keywords?: Array<string>;
    action: ExtensionModuleAction;
};
export declare type ExtensionModuleFieldTypeCustom = {
    resolver?: FieldResolver;
};
export declare type ExtensionModuleFieldTypeFieldset = {
    serializer?: Serializer;
    deserializer?: Deserializer;
};
export declare type ExtensionModuleFields = {
    custom?: {
        [key: string]: ExtensionModuleFieldTypeCustom;
    };
    fieldset?: {
        [key: string]: ExtensionModuleFieldTypeFieldset;
    };
};
export declare type Option = {
    label: string;
    value: string;
    description?: string;
};
export declare type FieldResolver = (searchTerm?: string) => Promise<Option[]>;
export declare type Serializer = (data: Parameters) => string;
export declare type Deserializer = (value: string) => Parameters;
export declare type ExtensionModuleNodes = {
    [key: string]: ExtensionModuleNode;
};
export declare type ExtensionModuleNode<T = any> = {
    type: ExtensionNodeType;
    render: () => AsyncESModule<ReactNode>;
    update?: UpdateExtension<T>;
    getFieldsDefinition?: (extensionParameters?: T) => Promise<FieldDefinition[]>;
};
export declare type ExtensionModuleType = Exclude<keyof ExtensionModules, 'nodes' | 'fields'>;
export declare type ESModule<T> = {
    __esModule?: boolean;
    default: T;
};
export declare type Module<T> = ESModule<T> | T;
export declare type AsyncESModule<T> = Promise<Module<T>>;
export declare type MaybeADFEntity = AsyncESModule<ADFEntity | undefined>;
