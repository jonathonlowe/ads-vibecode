import { __read } from "tslib";
import React from 'react';
import ProviderFactory from './provider-factory';
var ProviderFactoryContext = React.createContext(new ProviderFactory());
export var ProviderFactoryProvider = ProviderFactoryContext.Provider;
export var useProviderFactory = function () {
    return React.useContext(ProviderFactoryContext);
};
export var useProvider = function (name) {
    var _a = __read(React.useState(), 2), provider = _a[0], setProvider = _a[1];
    var providerFactory = useProviderFactory();
    React.useEffect(function () {
        var providerHandler = function (_, provider) {
            setProvider(provider);
        };
        providerFactory.subscribe(name, providerHandler);
        return function () {
            providerFactory.unsubscribe(name, providerHandler);
        };
    }, [name, providerFactory]);
    return provider;
};
//# sourceMappingURL=context.js.map