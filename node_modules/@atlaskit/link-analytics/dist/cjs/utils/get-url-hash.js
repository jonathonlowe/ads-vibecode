"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getUrlHash = void 0;
var _rusha = require("rusha");
var _lru_map = require("lru_map");
var URL_HASH_CACHE_SIZE = 100;
var sha1Hash = function sha1Hash(str) {
  return (0, _rusha.createHash)().update(str).digest('hex');
};
var urlCache = new _lru_map.LRUMap(URL_HASH_CACHE_SIZE);
var getUrlHash = exports.getUrlHash = function getUrlHash(url) {
  if (!urlCache.has(url)) {
    urlCache.set(url, sha1Hash(url));
  }
  return urlCache.get(url);
};