import { createHash } from 'rusha';
import { LRUMap } from 'lru_map';
const URL_HASH_CACHE_SIZE = 100;
const sha1Hash = str => createHash().update(str).digest('hex');
const urlCache = new LRUMap(URL_HASH_CACHE_SIZE);
export const getUrlHash = url => {
  if (!urlCache.has(url)) {
    urlCache.set(url, sha1Hash(url));
  }
  return urlCache.get(url);
};