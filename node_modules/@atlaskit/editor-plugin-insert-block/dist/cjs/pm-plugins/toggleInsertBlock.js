"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toggleInsertBlockPmPlugin = exports.toggleInsertBlockPmKey = void 0;
var _safePlugin = require("@atlaskit/editor-common/safe-plugin");
var _state = require("@atlaskit/editor-prosemirror/state");
var toggleInsertBlockPmKey = exports.toggleInsertBlockPmKey = new _state.PluginKey('toggleInsertBlockPmKey');
var toggleInsertBlockPmPlugin = exports.toggleInsertBlockPmPlugin = function toggleInsertBlockPmPlugin() {
  return new _safePlugin.SafePlugin({
    key: toggleInsertBlockPmKey,
    state: {
      init: function init() {
        return {
          showElementBrowser: false
        };
      },
      apply: function apply(tr, pluginState) {
        var meta = tr.getMeta(toggleInsertBlockPmKey);
        if (!meta) {
          return pluginState;
        }
        return {
          showElementBrowser: !pluginState.showElementBrowser
        };
      }
    }
  });
};