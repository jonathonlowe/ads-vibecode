export function promiseWithTimeout(promise, timeout, errorMessage = 'Timed out') {
  // Create a promise that rejects after the specified timeout
  const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject(new Error(errorMessage)), timeout));
  // Use Promise.race to race the provided promise against the timeout promise
  return Promise.race([promise, timeoutPromise]);
}