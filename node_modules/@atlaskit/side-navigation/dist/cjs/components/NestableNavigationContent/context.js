"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useShouldNestedElementRender = exports.useNestedContext = exports.NestedContext = void 0;
var _react = require("react");
/**
 * @internal
 */

/**
 * @internal
 */
var NestedContext = exports.NestedContext = /*#__PURE__*/(0, _react.createContext)(undefined);
var useNestedContext = exports.useNestedContext = function useNestedContext() {
  var context = (0, _react.useContext)(NestedContext);
  if (!context) {
    var error = '';
    if (process.env.NODE_ENV === 'development') {
      error = "\nTo use a <NestingItem /> it needs to be a descendant of <NestableNavigationContent>.\nYou probably need to replace your <NavigationContent> with <NestableNavigationContent>.\n\nimport { NestableNavigationContent } from '@atlaskit/side-navigation';\n      ";
    }
    throw new Error(error);
  }
  return context;
};

/**
 * Used by children of the NestableNavigationContent component to see if they should render or not.
 * If `shouldRender` returns `true` - return your nodes.
 * If it returns `false` - either return `null` or `children` if you have children.
 */
var useShouldNestedElementRender = exports.useShouldNestedElementRender = function useShouldNestedElementRender() {
  var context = (0, _react.useContext)(NestedContext);
  if (!context) {
    return {
      shouldRender: true
    };
  }
  return {
    shouldRender: context.currentStackId === context.parentId
  };
};