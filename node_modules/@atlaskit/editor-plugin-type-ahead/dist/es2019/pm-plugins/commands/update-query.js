import { ACTIONS } from '../actions';
import { pluginKey as typeAheadPluginKey } from '../key';
export const updateQuery = query => {
  return (state, dispatch) => {
    const pluginState = typeAheadPluginKey.getState(state);
    if ((pluginState === null || pluginState === void 0 ? void 0 : pluginState.query) === query) {
      return false;
    }
    const tr = state.tr;
    tr.setMeta(typeAheadPluginKey, {
      action: ACTIONS.CHANGE_QUERY,
      params: {
        query
      }
    });
    if (dispatch) {
      dispatch(tr);
    }
    return true;
  };
};