"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _react = _interopRequireDefault(require("react"));
var _types = require("./types");
var _FabricElementsListener = _interopRequireDefault(require("./fabric/FabricElementsListener"));
var _AtlaskitListener = _interopRequireDefault(require("./atlaskit/AtlaskitListener"));
var _logger = _interopRequireDefault(require("./helpers/logger"));
var _NavigationListener = _interopRequireDefault(require("./navigation/NavigationListener"));
var _FabricEditorListener = _interopRequireDefault(require("./fabric/FabricEditorListener"));
var _MediaAnalyticsListener = _interopRequireDefault(require("./media/MediaAnalyticsListener"));
var _PeopleTeamsAnalyticsListener = _interopRequireDefault(require("./peopleTeams/PeopleTeamsAnalyticsListener"));
var _NotificationsAnalyticsListener = _interopRequireDefault(require("./notifications/NotificationsAnalyticsListener"));
var _RecentWorkAnalyticsListener = _interopRequireDefault(require("./recentWork/RecentWorkAnalyticsListener"));
var _AtlasAnalyticsListener = _interopRequireDefault(require("./atlas/AtlasAnalyticsListener"));
var _CrossFlowAnalyticsListener = _interopRequireDefault(require("./cross-flow/CrossFlowAnalyticsListener"));
var _LinkingPlatformAnalyticsListener = _interopRequireDefault(require("./linkingPlatform/LinkingPlatformAnalyticsListener"));
var _PostOfficeAnalyticsListener = _interopRequireDefault(require("./postOffice/PostOfficeAnalyticsListener"));
var _AIMateAnalyticsListener = _interopRequireDefault(require("./aiMate/AIMateAnalyticsListener"));
var _AVPAnalyticsListener = _interopRequireDefault(require("./avp/AVPAnalyticsListener"));
var _GrowthAnalyticsListener = _interopRequireDefault(require("./growth/GrowthAnalyticsListener"));
var _listenerMap;
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var listenerMap = (_listenerMap = {}, (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)(_listenerMap, _types.FabricChannel.elements, _FabricElementsListener.default), _types.FabricChannel.editor, _FabricEditorListener.default), _types.FabricChannel.atlaskit, _AtlaskitListener.default), _types.FabricChannel.navigation, _NavigationListener.default), _types.FabricChannel.media, _MediaAnalyticsListener.default), _types.FabricChannel.peopleTeams, _PeopleTeamsAnalyticsListener.default), _types.FabricChannel.notifications, _NotificationsAnalyticsListener.default), _types.FabricChannel.recentWork, _RecentWorkAnalyticsListener.default), _types.FabricChannel.atlas, _AtlasAnalyticsListener.default), _types.FabricChannel.crossFlow, _CrossFlowAnalyticsListener.default), (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)(_listenerMap, _types.FabricChannel.linkingPlatform, _LinkingPlatformAnalyticsListener.default), _types.FabricChannel.postOffice, _PostOfficeAnalyticsListener.default), _types.FabricChannel.aiMate, _AIMateAnalyticsListener.default), _types.FabricChannel.avp, _AVPAnalyticsListener.default), _types.FabricChannel.growth, _GrowthAnalyticsListener.default));
var FabricAnalyticsListeners = /*#__PURE__*/function (_React$Component) {
  function FabricAnalyticsListeners(props) {
    var _this;
    (0, _classCallCheck2.default)(this, FabricAnalyticsListeners);
    _this = _callSuper(this, FabricAnalyticsListeners, [props]);
    _this.logger = new _logger.default({
      logLevel: props.logLevel
    });
    return _this;
  }
  (0, _inherits2.default)(FabricAnalyticsListeners, _React$Component);
  return (0, _createClass2.default)(FabricAnalyticsListeners, [{
    key: "render",
    value: function render() {
      var _this2 = this;
      var _this$props = this.props,
        client = _this$props.client,
        children = _this$props.children,
        logLevel = _this$props.logLevel,
        excludedChannels = _this$props.excludedChannels;
      if (typeof logLevel === 'number') {
        this.logger.setLogLevel(logLevel);
      }
      var listeners = Object.keys(listenerMap).filter(function (channel) {
        return !excludedChannels || excludedChannels.indexOf(channel) < 0;
      }).map(function (channel) {
        return listenerMap[channel];
      }).reduce(function (prev, Listener) {
        return /*#__PURE__*/_react.default.createElement(Listener, {
          client: client,
          logger: _this2.logger
        }, prev);
      }, children);
      return listeners;
    }
  }]);
}(_react.default.Component);
var _default = exports.default = FabricAnalyticsListeners;