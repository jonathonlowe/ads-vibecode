"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EditorAnalyticsContext = void 0;
var _react = _interopRequireDefault(require("react"));
var _analyticsNext = require("@atlaskit/analytics-next");
var _utils = require("@atlaskit/editor-common/utils");
var _state = require("../pm-plugins/util/state");
/**
 * Provides location attribute to child events
 */
var EditorAnalyticsContext = exports.EditorAnalyticsContext = function EditorAnalyticsContext(_ref) {
  var _getPluginState;
  var editorView = _ref.editorView,
    children = _ref.children;
  var editorAppearance = editorView ? (_getPluginState = (0, _state.getPluginState)(editorView.state)) === null || _getPluginState === void 0 ? void 0 : _getPluginState.editorAppearance : undefined;
  var analyticsEditorAppearance = (0, _utils.getAnalyticsEditorAppearance)(editorAppearance);
  var analyticsData = {
    attributes: {
      location: analyticsEditorAppearance
    },
    // Below is added for the future implementation of Linking Platform namespaced analytic context
    location: analyticsEditorAppearance
  };
  return /*#__PURE__*/_react.default.createElement(_analyticsNext.AnalyticsContext, {
    data: analyticsData
  }, children);
};