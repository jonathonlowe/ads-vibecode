"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var safeUnsubscribe_1 = require("./safeUnsubscribe");
// We can't use observable.toPromise() because it only resolves when the observable completes, which never happens with ReplaySubject
exports.observableToPromise = function (observable) {
    return new Promise(function (resolve) {
        var subscription = observable.subscribe({
            next: function (state) {
                resolve(state);
                safeUnsubscribe_1.safeUnsubscribe(subscription);
            },
        });
    });
};
//# sourceMappingURL=observableToPromise.js.map