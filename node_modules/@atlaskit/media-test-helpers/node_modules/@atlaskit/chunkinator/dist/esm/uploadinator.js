import { asyncMap } from 'rxjs-async-map';
var uploadinator = function (probedBlobs$, options) {
    var upload = function (probedBlob) {
        if (!probedBlob.exists) {
            return options.uploader(probedBlob).then(function () { return probedBlob; });
        }
        else {
            return Promise.resolve(probedBlob);
        }
    };
    return probedBlobs$.pipe(asyncMap(upload, options.concurrency));
};
export { uploadinator };
//# sourceMappingURL=uploadinator.js.map