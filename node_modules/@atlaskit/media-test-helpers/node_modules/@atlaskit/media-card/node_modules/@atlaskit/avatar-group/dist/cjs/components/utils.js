"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MAX_IMAGE_SRC_LENGTH = 32;
var compact = function (items) {
    return items.filter(function (item) { return item && item.length > 0; });
};
exports.composeAUniqueKey = function (props, index) {
    var name = props.name || '';
    var src = props.src || '';
    // when src is base64 encoded, it can be extremely long, and substring from the rear
    // as in most cases that is where the different sits. For example:
    // - https://www.avatar-sources.com/stephen.png?size=48
    // - https://www.avatar-sources.com/john.png?size=48
    var truncatedImageSrc = src.substring(src.length - MAX_IMAGE_SRC_LENGTH, src.length);
    var key = compact([name, truncatedImageSrc]).join('-');
    if (key.length === 0) {
        return String(index);
    }
    return key;
};
//# sourceMappingURL=utils.js.map