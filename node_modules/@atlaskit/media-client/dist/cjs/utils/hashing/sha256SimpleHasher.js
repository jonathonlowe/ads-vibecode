"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SimpleHasher = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _jsSha = require("js-sha256");
var SimpleHasher = exports.SimpleHasher = /*#__PURE__*/function () {
  function SimpleHasher() {
    (0, _classCallCheck2.default)(this, SimpleHasher);
  }
  return (0, _createClass2.default)(SimpleHasher, [{
    key: "hash",
    value: function hash(blob) {
      return new Promise(function (resolve, reject) {
        var reader = new FileReader();
        reader.readAsArrayBuffer(blob);
        reader.onload = function () {
          var _reader$result;
          resolve("sha256-".concat(_jsSha.sha256.create().update((_reader$result = reader.result) !== null && _reader$result !== void 0 ? _reader$result : '').hex()));
        };
        reader.onerror = reject;
      });
    }
  }]);
}();