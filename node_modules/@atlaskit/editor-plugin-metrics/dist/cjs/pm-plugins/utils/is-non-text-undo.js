"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isNonTextUndo = void 0;
var _transform = require("@atlaskit/editor-prosemirror/transform");
var isNonTextUndo = exports.isNonTextUndo = function isNonTextUndo(tr) {
  if (tr.getMeta('undoRedoPlugin$') === undefined) {
    return false;
  }
  var hasNonTextChange = false;
  tr.steps.forEach(function (step) {
    if (step instanceof _transform.ReplaceStep) {
      var slice = step.slice;
      if (slice.content) {
        slice.content.forEach(function (node) {
          if (node.type.name !== 'text') {
            hasNonTextChange = true;
          }
        });
      }
    } else {
      hasNonTextChange = true;
    }
  });
  return hasNonTextChange;
};