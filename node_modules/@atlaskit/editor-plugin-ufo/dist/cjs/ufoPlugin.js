"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ufoPlugin = void 0;
var _platformFeatureFlags = require("@atlaskit/platform-feature-flags");
var _abortUFOMeasurementOnFirstUserInteraction = require("./pm-plugins/abortUFOMeasurementOnFirstUserInteraction");
var isSSR = Boolean(process.env.REACT_SSR);
var ufoPlugin = exports.ufoPlugin = function ufoPlugin() {
  return {
    name: 'ufo',
    pmPlugins: function pmPlugins() {
      // We don't need to use this code for Serve Side Rendering
      if (isSSR || !(0, _platformFeatureFlags.fg)('platform_editor_abort_ttvc_on_user_interaction')) {
        return [];
      }
      return [{
        name: 'abortUFOMeasurementOnFirstUserInteraction',
        plugin: _abortUFOMeasurementOnFirstUserInteraction.abortUFOMeasurementOnFirstUserInteraction
      }];
    }
  };
};