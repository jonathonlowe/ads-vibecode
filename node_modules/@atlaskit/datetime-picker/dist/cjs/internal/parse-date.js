"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSafeCalendarValue = getSafeCalendarValue;
exports.getShortISOString = getShortISOString;
var _dateFns = require("date-fns");
var _parseTokens = require("./parse-tokens");
/**
 * Converts a Date object into an ISO date, formatted `YYYY-MM-DD`.
 *
 * @param date The date to convert.
 * @returns An ISO date (`YYYY-MM-DD`).
 */
function getShortISOString(date) {
  return (0, _dateFns.format)(date, (0, _parseTokens.convertTokens)('YYYY-MM-DD'));
}
function getSafeCalendarValue(calendarValue) {
  // If `calendarValue` has a year that is greater than 9999, default to
  // today's date
  var yearIsOverLimit = calendarValue.match(/^\d{5,}/);
  if (yearIsOverLimit) {
    return getShortISOString(new Date());
  }
  return calendarValue;
}