"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ruler = void 0;
var _rule = require("../nodes/rule");
// Ignored via go/ees005
// eslint-disable-next-line require-unicode-regexp
var RULER_REGEX = /^-{4,5}(\s|$)/;
var ruler = exports.ruler = function ruler(_ref) {
  var input = _ref.input,
    position = _ref.position,
    schema = _ref.schema;
  var match = input.substring(position).match(RULER_REGEX);
  if (match) {
    return {
      type: 'pmnode',
      nodes: (0, _rule.createRuleNode)(schema),
      length: match[0].length
    };
  }
  return {
    type: 'text',
    text: input.substring(position, 1),
    length: 1
  };
};