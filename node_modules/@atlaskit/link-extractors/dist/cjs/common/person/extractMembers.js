"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.extractMembers = void 0;
var _extractPerson = require("./extractPerson");
var extractMembers = exports.extractMembers = function extractMembers(jsonLd) {
  var members = jsonLd['atlassian:member'];
  if (members) {
    if (typeof members === 'string') {
      throw Error('Link[atlassian:members] must be an array or object.');
    } else if (members.hasOwnProperty('totalItems')) {
      var collection = members;
      if (collection.items) {
        return collection.items.map(function (member) {
          return (0, _extractPerson.extractPersonFromJsonLd)(member);
        }).filter(function (member) {
          return !!member;
        });
      }
    } else {
      var memberItem = members;
      var memberItemForLink = (0, _extractPerson.extractPersonFromJsonLd)(memberItem);
      if (memberItemForLink) {
        return [memberItemForLink];
      }
    }
  }
};