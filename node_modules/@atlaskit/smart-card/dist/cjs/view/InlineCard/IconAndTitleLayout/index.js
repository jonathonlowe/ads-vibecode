/* index.tsx generated by @compiled/babel-plugin v0.36.1 */
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _typeof = require("@babel/runtime/helpers/typeof");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LozengeWrapper = exports.IconTitleWrapper = exports.IconAndTitleLayout = void 0;
require("./index.compiled.css");
var _react = _interopRequireWildcard(require("react"));
var _runtime = require("@compiled/react/runtime");
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _reactMagneticDi = require("react-magnetic-di");
var _reactRenderImage = _interopRequireDefault(require("react-render-image"));
var _link = _interopRequireDefault(require("@atlaskit/icon/core/migration/link"));
var _platformFeatureFlags = require("@atlaskit/platform-feature-flags");
var _compiled = require("@atlaskit/primitives/compiled");
var _colors = require("@atlaskit/theme/colors");
var _Icon = require("../Icon");
var _styled = require("./styled");
var _excluded = ["as", "style"],
  _excluded2 = ["as", "style"],
  _excluded3 = ["as", "style"],
  _excluded4 = ["as", "style"];
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != _typeof(e) && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
var iconWrapperStyle = null;
var iconImageStyle = null;
var styles = {
  iconEmptyStyle: "_1bsb7vkz _4t3i1osq _1e0c1o8l _tzy4idpf",
  iconOuterWrapperStyle: "_1e0c1o8l _2hwx1b66 _kqswh2mm",
  iconTitleWrapperStyle: "_o5721jtm _1nmz9jpi _16d9qvcn _ca0qv77o _u5f31b66 _n3tdv77o _19bv1b66",
  linkStyle: "_2rkogqwt",
  noLinkAppearanceStyle: "_syaz131l _18u01b66"
};
// eslint-disable-next-line @atlaskit/ui-styling-standard/no-styled -- Ignored via go/DSP-18766
var NoLinkAppearanceOldVisualRefresh = (0, _react.forwardRef)(function (_ref, __cmplr) {
  var _ref$as = _ref.as,
    C = _ref$as === void 0 ? "span" : _ref$as,
    __cmpls = _ref.style,
    __cmplp = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  return /*#__PURE__*/_react.default.createElement(C, (0, _extends2.default)({}, __cmplp, {
    style: __cmpls,
    ref: __cmplr,
    className: (0, _runtime.ax)(["_syaz1wmz _18u01b66", __cmplp.className])
  }));
});

// eslint-disable-next-line @atlaskit/ui-styling-standard/no-styled -- Ignored via go/DSP-18766
if (process.env.NODE_ENV !== 'production') {
  NoLinkAppearanceOldVisualRefresh.displayName = 'NoLinkAppearanceOldVisualRefresh';
}
var LinkAppearance = (0, _react.forwardRef)(function (_ref2, __cmplr) {
  var _ref2$as = _ref2.as,
    C = _ref2$as === void 0 ? "a" : _ref2$as,
    __cmpls = _ref2.style,
    __cmplp = (0, _objectWithoutProperties2.default)(_ref2, _excluded2);
  return /*#__PURE__*/_react.default.createElement(C, (0, _extends2.default)({}, __cmplp, {
    style: __cmpls,
    ref: __cmplr,
    className: (0, _runtime.ax)(["_syaz1y58 _9oik1r31 _1bnxglyw _jf4cnqa1", __cmplp.className])
  }));
});
if (process.env.NODE_ENV !== 'production') {
  LinkAppearance.displayName = 'LinkAppearance';
}
var IconAndTitleLayout = exports.IconAndTitleLayout = function IconAndTitleLayout(_ref3) {
  var icon = _ref3.icon,
    emoji = _ref3.emoji,
    defaultIcon = _ref3.defaultIcon,
    onClick = _ref3.onClick,
    children = _ref3.children,
    title = _ref3.title,
    titleColor = _ref3.titleColor,
    titleTextColor = _ref3.titleTextColor,
    link = _ref3.link,
    rightSide = _ref3.rightSide,
    _ref3$testId = _ref3.testId,
    testId = _ref3$testId === void 0 ? 'inline-card-icon-and-title' : _ref3$testId;
  var renderAtlaskitIcon = _react.default.useCallback(function () {
    if (emoji) {
      if ((0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1')) {
        return emoji;
      }
      return /*#__PURE__*/_react.default.createElement(_styled.EmojiWrapperOldVisualRefresh, null, emoji);
    }
    if (!icon || typeof icon === 'string') {
      return null;
    }
    if ((0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1')) {
      return icon;
    }
    return /*#__PURE__*/_react.default.createElement(_styled.IconWrapperOldVisualRefresh, null, icon);
  }, [emoji, icon]);
  var renderImageIcon = _react.default.useCallback(function (errored, testId) {
    if (!icon || typeof icon !== 'string') {
      return null;
    }
    if ((0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1')) {
      return /*#__PURE__*/_react.default.createElement(_reactRenderImage.default, {
        src: icon,
        loaded: /*#__PURE__*/_react.default.createElement("img", {
          src: icon,
          "data-testid": "".concat(testId, "-image"),
          alt: "",
          className: (0, _runtime.ax)(["_c71l7vkz _p12f7vkz _1bsb1osq"])
        }),
        errored: errored,
        loading: /*#__PURE__*/_react.default.createElement(_Icon.Shimmer, {
          testId: "".concat(testId, "-loading")
        })
      });
    }
    return /*#__PURE__*/_react.default.createElement(_reactRenderImage.default, {
      src: icon,
      loaded:
      /*#__PURE__*/
      // eslint-disable-next-line @atlaskit/ui-styling-standard/no-classname-prop
      _react.default.createElement(_Icon.Icon, {
        className: "smart-link-icon",
        src: icon,
        "data-testid": "".concat(testId, "-image"),
        alt: ""
      }),
      errored: errored,
      loading: /*#__PURE__*/_react.default.createElement(_Icon.Shimmer, {
        testId: "".concat(testId, "-loading")
      })
    });
  }, [icon]);
  var renderIconPlaceholder = _react.default.useCallback(function (testId) {
    if ((0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1')) {
      return defaultIcon || /*#__PURE__*/_react.default.createElement(_link.default, {
        label: "link",
        LEGACY_size: "small",
        testId: "".concat(testId, "-default"),
        color: "currentColor"
      });
    }
    if (defaultIcon) {
      return /*#__PURE__*/_react.default.createElement(_styled.IconWrapperOldVisualRefresh, null, defaultIcon);
    }
    return /*#__PURE__*/_react.default.createElement(_styled.IconWrapperOldVisualRefresh, null, /*#__PURE__*/_react.default.createElement(_link.default, {
      label: "link",
      LEGACY_size: "small",
      testId: "".concat(testId, "-default"),
      color: "currentColor"
    }));
  }, [defaultIcon]);
  var renderIcon = _react.default.useCallback(function (testId) {
    var icon = renderAtlaskitIcon();
    if (icon) {
      return icon;
    }
    var placeholder = renderIconPlaceholder(testId);
    var image = renderImageIcon(placeholder, testId);
    return image || placeholder;
  }, [renderAtlaskitIcon, renderIconPlaceholder, renderImageIcon]);
  var handleClick = _react.default.useCallback(function (event) {
    if (onClick) {
      event.preventDefault();
      event.stopPropagation();
      onClick(event);
    }
  }, [onClick]);
  var handleKeyPress = _react.default.useCallback(function (event) {
    if (event.key !== ' ' && event.key !== 'Enter') {
      return;
    }
    if (onClick) {
      event.preventDefault();
      event.stopPropagation();
      onClick(event);
    }
  }, [onClick]);

  // maybe consider memoising this after clean up
  var titlePart = /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, (0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1') ? /*#__PURE__*/_react.default.createElement(_compiled.Box, {
    as: "span"
    // EDM-12119: This is set here to help with the positioning of the icon to be in the middle of inline display.
    // We cannot set the fix font because inline is taking the parent container font size into account.
    // eslint-disable-next-line @atlaskit/design-system/use-tokens-typography
    ,
    style: {
      lineHeight: "1"
    },
    xcss: styles.iconOuterWrapperStyle,
    testId: "icon-position-wrapper"
  }, children || /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_compiled.Box, {
    as: "span",
    xcss: styles.iconEmptyStyle,
    testId: "icon-empty-wrapper"
  }), /*#__PURE__*/_react.default.createElement("span", {
    "data-testId": "icon-wrapper",
    className: (0, _runtime.ax)(["_11c81o8v _2rkoyh40 _1e0c116y _kqswstnw _2hwx1b66 _4t3i7vkz _1bsb7vkz _154i1ssb _1ltv1ssb _t9ec1ooe _uiztglyw"])
  }, renderIcon(testId)))) : /*#__PURE__*/_react.default.createElement(_styled.IconPositionWrapperOldVisualRefresh, {
    "data-testid": "icon-position-wrapper"
  }, children || /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_styled.IconEmptyWrapperOldVisualRefresh, {
    "data-testid": "icon-empty-wrapper"
  }), renderIcon(testId))), (0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1') ? /*#__PURE__*/_react.default.createElement(_compiled.Box, {
    as: "span",
    style: {
      color: titleTextColor
    }
  }, title) : /*#__PURE__*/_react.default.createElement("span", {
    style: {
      color: titleTextColor
    }
    // eslint-disable-next-line @atlaskit/ui-styling-standard/no-classname-prop
    ,
    className: _styled.TitleWrapperClassNameOldVisualRefresh
  }, title));
  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, (0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1') ? /*#__PURE__*/_react.default.createElement(IconTitleWrapper, {
    style: {
      color: titleColor
    },
    testId: testId
  }, link ? /*#__PURE__*/_react.default.createElement(LinkAppearance, {
    href: link,
    onClick: handleClick,
    onKeyPress: handleKeyPress,
    className: (0, _runtime.ax)([styles.linkStyle])
  }, titlePart) : titlePart, rightSide ? /*#__PURE__*/_react.default.createElement(_compiled.Box, {
    as: "span",
    xcss: styles.noLinkAppearanceStyle
  }, rightSide) : null) : /*#__PURE__*/_react.default.createElement(IconTitleWrapperOldVisualRefresh, {
    style: {
      color: titleColor
    },
    "data-testid": testId
  }, link ? /*#__PURE__*/_react.default.createElement(LinkAppearance, {
    href: link,
    onClick: handleClick,
    onKeyPress: handleKeyPress
  }, titlePart) : titlePart, rightSide ? /*#__PURE__*/_react.default.createElement(NoLinkAppearanceOldVisualRefresh, null, rightSide) : null));
};

// eslint-disable-next-line @atlaskit/ui-styling-standard/no-styled
var IconTitleWrapperOldVisualRefresh = (0, _react.forwardRef)(function (_ref4, __cmplr) {
  var _ref4$as = _ref4.as,
    C = _ref4$as === void 0 ? "span" : _ref4$as,
    __cmpls = _ref4.style,
    __cmplp = (0, _objectWithoutProperties2.default)(_ref4, _excluded3);
  return /*#__PURE__*/_react.default.createElement(C, (0, _extends2.default)({}, __cmplp, {
    style: __cmpls,
    ref: __cmplr,
    className: (0, _runtime.ax)(["_o5721jtm _1nmz9jpi _16d9qvcn _ca0qv77o _u5f31b66 _n3tdv77o _19bv1b66", __cmplp.className])
  }));
});
if (process.env.NODE_ENV !== 'production') {
  IconTitleWrapperOldVisualRefresh.displayName = 'IconTitleWrapperOldVisualRefresh';
}
var IconTitleWrapper = exports.IconTitleWrapper = function IconTitleWrapper(props) {
  if ((0, _platformFeatureFlags.fg)('platform-linking-visual-refresh-v1')) {
    return /*#__PURE__*/_react.default.createElement(_compiled.Box, (0, _extends2.default)({
      as: "span",
      xcss: styles.iconTitleWrapperStyle
    }, props));
  }
  // note: This is just to get the types to work due to compiled css weirdness.
  return /*#__PURE__*/_react.default.createElement(IconTitleWrapperOldVisualRefresh, props);
};

// eslint-disable-next-line @atlaskit/ui-styling-standard/no-styled
var LozengeWrapperOldVisualRefresh = (0, _react.forwardRef)(function (_ref5, __cmplr) {
  var _ref5$as = _ref5.as,
    C = _ref5$as === void 0 ? "span" : _ref5$as,
    __cmpls = _ref5.style,
    __cmplp = (0, _objectWithoutProperties2.default)(_ref5, _excluded4);
  return /*#__PURE__*/_react.default.createElement(C, (0, _extends2.default)({}, __cmplp, {
    style: __cmpls,
    ref: __cmplr,
    className: (0, _runtime.ax)(["_1e0c1o8l _s7n4t94y _19pkidpf _2hwx1b66 _otyridpf _18u0v77o", __cmplp.className])
  }));
});
if (process.env.NODE_ENV !== 'production') {
  LozengeWrapperOldVisualRefresh.displayName = 'LozengeWrapperOldVisualRefresh';
}
var LozengeWrapper = exports.LozengeWrapper = function LozengeWrapper(props) {
  // note: This is just to get the types to work due to compiled css weirdness.
  return /*#__PURE__*/_react.default.createElement(LozengeWrapperOldVisualRefresh, props);
};