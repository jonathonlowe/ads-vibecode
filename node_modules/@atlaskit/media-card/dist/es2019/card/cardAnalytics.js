import { fireMediaCardEvent, getRenderSucceededEventPayload, getRenderErrorEventPayload, getRenderFailedFileStatusPayload, getErrorEventPayload, getDownloadSucceededEventPayload, getDownloadFailedEventPayload } from '../utils/analytics';
import { MediaCardError } from '../errors';
export const fireOperationalEvent = (createAnalyticsEvent, status, fileAttributes, performanceAttributes, ssrReliability, error = new MediaCardError('missing-error-data'), traceContext, metadataTraceContext) => {
  const fireEvent = payload => fireMediaCardEvent(payload, createAnalyticsEvent);
  switch (status) {
    case 'complete':
      fireEvent(getRenderSucceededEventPayload(fileAttributes, performanceAttributes, ssrReliability, traceContext, metadataTraceContext));
      break;
    case 'failed-processing':
      fireEvent(getRenderFailedFileStatusPayload(fileAttributes, performanceAttributes, ssrReliability, traceContext, metadataTraceContext));
      break;
    case 'error':
      fireEvent(getRenderErrorEventPayload(fileAttributes, performanceAttributes, error, ssrReliability, traceContext, metadataTraceContext));
      break;
  }
};
export const fireNonCriticalErrorEvent = (createAnalyticsEvent, cardStatus, fileAttributes, ssrReliability, error = new MediaCardError('missing-error-data'), traceContext, metadataTraceContext) => {
  const errorPayload = getErrorEventPayload(cardStatus, fileAttributes, error, ssrReliability, traceContext, metadataTraceContext);
  fireMediaCardEvent(errorPayload, createAnalyticsEvent);
};
export const fireDownloadSucceededEvent = (createAnalyticsEvent, fileAttributes, traceContext, metadataTraceContext) => {
  const payload = getDownloadSucceededEventPayload(fileAttributes, traceContext, metadataTraceContext);
  fireMediaCardEvent(payload, createAnalyticsEvent);
};
export const fireDownloadFailedEvent = (createAnalyticsEvent, fileAttributes, error = new MediaCardError('missing-error-data'), traceContext, metadataTraceContext) => {
  const payload = getDownloadFailedEventPayload(fileAttributes, error, traceContext, metadataTraceContext);
  fireMediaCardEvent(payload, createAnalyticsEvent);
};