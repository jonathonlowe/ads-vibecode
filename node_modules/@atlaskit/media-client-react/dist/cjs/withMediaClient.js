"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withMediaClient = void 0;
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _MediaClientProvider = require("./MediaClientProvider");
var _excluded = ["mediaClientConfig"];
var withMediaClient = exports.withMediaClient = function withMediaClient(Component) {
  return function (_ref) {
    var mediaClientConfig = _ref.mediaClientConfig,
      otherProps = (0, _objectWithoutProperties2.default)(_ref, _excluded);
    return /*#__PURE__*/_react.default.createElement(_MediaClientProvider.MediaClientContext.Consumer, null, function (value) {
      return value ? /*#__PURE__*/_react.default.createElement(Component, (0, _extends2.default)({}, otherProps, {
        mediaClient: value
      })) : /*#__PURE__*/_react.default.createElement(_MediaClientProvider.MediaClientProvider, {
        clientConfig: mediaClientConfig
      }, /*#__PURE__*/_react.default.createElement(_MediaClientProvider.MediaClientContext.Consumer, null, function (client) {
        return /*#__PURE__*/_react.default.createElement(Component, (0, _extends2.default)({}, otherProps, {
          mediaClient: client
        }));
      }));
    });
  };
};