"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSchemaBasedOnStage = exports.defaultSchemaConfig = exports.defaultSchema = void 0;
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nodes = require("./nodes");
var _createSchema = require("./create-schema");
var getDefaultSchemaConfig = function getDefaultSchemaConfig() {
  var defaultSchemaConfig = {
    nodes: ['doc', 'paragraph', 'text', 'bulletList', 'orderedList', 'listItem', 'heading', 'blockquote', 'codeBlock', 'panel', 'rule', 'image', 'caption', 'mention', 'media', 'mediaGroup', 'mediaSingle', 'mediaInline', 'confluenceUnsupportedBlock', 'confluenceUnsupportedInline', 'confluenceJiraIssue', 'expand', 'nestedExpand', 'extension', 'inlineExtension', 'bodiedExtension', 'hardBreak', 'emoji', 'table', 'tableCell', 'tableHeader', 'tableRow', 'decisionList', 'decisionItem', 'taskList', 'taskItem', 'unknownBlock', 'date', 'status', 'placeholder', 'layoutSection', 'layoutColumn', 'inlineCard', 'blockCard', 'embedCard', 'unsupportedBlock', 'unsupportedInline'],
    marks: ['link', 'em', 'strong', 'strike', 'subsup', 'underline', 'code', 'textColor', 'backgroundColor', 'confluenceInlineComment', 'breakout', 'alignment', 'indentation', 'annotation', 'dataConsumer', 'border', 'unsupportedMark', 'unsupportedNodeAttribute', 'typeAheadQuery',
    // https://product-fabric.atlassian.net/browse/ED-10214,
    'fragment']
  };
  return defaultSchemaConfig;
};
var defaultSchemaConfig = exports.defaultSchemaConfig = getDefaultSchemaConfig();
var getSchemaBasedOnStage = exports.getSchemaBasedOnStage = (0, _memoizeOne.default)(function () {
  var stage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'final';
  var defaultSchemaConfig = getDefaultSchemaConfig();
  if (stage === 'stage0') {
    defaultSchemaConfig.customNodeSpecs = {
      layoutSection: _nodes.layoutSectionWithSingleColumn,
      multiBodiedExtension: _nodes.multiBodiedExtension,
      extensionFrame: _nodes.extensionFrame,
      expand: _nodes.expandWithNestedExpand,
      listItem: _nodes.listItemWithDecisionStage0,
      table: _nodes.tableWithNestedTable,
      tableRow: _nodes.tableRowWithNestedTable,
      tableCell: _nodes.tableCellWithNestedTable,
      tableHeader: _nodes.tableHeaderWithNestedTable
    };
  }
  return (0, _createSchema.createSchema)(defaultSchemaConfig);
});
var defaultSchema = exports.defaultSchema = getSchemaBasedOnStage();