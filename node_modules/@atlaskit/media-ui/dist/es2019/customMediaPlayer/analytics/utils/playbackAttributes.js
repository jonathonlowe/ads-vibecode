import { isUndefined, omitBy } from '@atlaskit/media-common';
export function createPlaybackAttributes(playbackState) {
  const {
    isAutoPlay,
    isHDAvailable,
    isHDActive,
    playerSize,
    isFullScreenEnabled,
    playbackSpeed,
    status,
    currentTime,
    volume,
    duration,
    isMuted
  } = playbackState;
  return omitBy({
    isAutoPlay,
    isHDAvailable,
    isHDActive,
    playbackSpeed,
    playerSize,
    isFullScreenEnabled,
    durationInSec: duration && parseInt(`${duration}`, 10),
    absoluteTimeInSec: currentTime && parseInt(`${currentTime}`, 10),
    relativeTime: duration && currentTime && duration > 0 ? Math.round(currentTime / duration * 100) / 100 : undefined,
    status,
    volume,
    isMuted
  }, isUndefined);
}