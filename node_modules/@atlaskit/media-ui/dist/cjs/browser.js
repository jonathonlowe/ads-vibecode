"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isWebkitSupported = isWebkitSupported;
var webkitSupported;

/*
 * Function to get the whether the browser is webkit supported. Mocked optional navigator purely for testing purposes
 * Memoization so that the browser is only calculated if it's not cached already
 */
function isWebkitSupported(mockedNavigator) {
  var navigatorUsed = mockedNavigator !== undefined ? mockedNavigator : navigator;
  if (mockedNavigator !== undefined) {
    webkitSupported = undefined;
  }
  if (webkitSupported === undefined) {
    if (typeof navigatorUsed !== 'undefined') {
      var ieEdge = /Edge\/(\d+)/.exec(navigatorUsed.userAgent);
      var ieUpTo10 = /MSIE \d/.test(navigatorUsed.userAgent);
      var ie11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigatorUsed.userAgent);
      var opera = /Opera/.test(navigatorUsed.platform) || /OPR/.test(navigatorUsed.platform);
      var ie = !!(ieUpTo10 || ie11up || ieEdge);
      var firefox = /Firefox/.test(navigatorUsed.userAgent);
      var browser_supported = !ie && !opera && !firefox;
      return browser_supported;
    }
    return false;
  }
  return webkitSupported;
}