import React from 'react';
import { render } from 'react-dom';
import { IntlProvider } from 'react-intl-next';
import { LinkAction, OverlayButton } from '@atlaskit/editor-common/link';
export const ButtonWrapper = ({
  editorView,
  pos,
  stateKey,
  intl,
  onOpenLinkClick
}) => {
  const wrapper = document.createElement('span');
  wrapper.style.position = 'relative';
  const nonBreakingCharacter = '\u2060';
  const onDropdownChange = isOpen => {
    editorView.dispatch(editorView.state.tr.setMeta(stateKey, {
      type: LinkAction.SET_CONFIGURE_DROPDOWN_OPEN,
      isOpen
    }));
  };
  render( /*#__PURE__*/React.createElement(IntlProvider, {
    locale: intl.locale || 'en',
    messages: intl.messages,
    formats: intl.formats
  }, /*#__PURE__*/React.createElement(OverlayButton, {
    targetElementPos: pos,
    editorView: editorView,
    onDropdownChange: onDropdownChange,
    onOpenLinkClick: onOpenLinkClick
  }), nonBreakingCharacter), wrapper);
  return wrapper;
};