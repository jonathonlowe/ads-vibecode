"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.failDataURIConversionOnce = void 0;
var originalFileReader = global.FileReader;
var unMockFileReader = function unMockFileReader() {
  Object.defineProperty(global, 'FileReader', {
    writable: true,
    value: originalFileReader
  });
};
var mockFileReader = function mockFileReader(e) {
  var fileReader = {
    onerror: function onerror(_) {},
    readAsDataURL: function readAsDataURL() {
      fileReader.onerror(e);
      unMockFileReader();
    }
  };
  Object.defineProperty(global, 'FileReader', {
    writable: true,
    value: jest.fn().mockImplementation(function () {
      return fileReader;
    })
  });
};
var failDataURIConversionOnce = exports.failDataURIConversionOnce = function failDataURIConversionOnce(e) {
  mockFileReader(e);
};