const originalFileReader = global.FileReader;
const unMockFileReader = () => {
  Object.defineProperty(global, 'FileReader', {
    writable: true,
    value: originalFileReader
  });
};
const mockFileReader = e => {
  const fileReader = {
    onerror: _ => {},
    readAsDataURL: () => {
      fileReader.onerror(e);
      unMockFileReader();
    }
  };
  Object.defineProperty(global, 'FileReader', {
    writable: true,
    value: jest.fn().mockImplementation(() => fileReader)
  });
};
export const failDataURIConversionOnce = e => {
  mockFileReader(e);
};