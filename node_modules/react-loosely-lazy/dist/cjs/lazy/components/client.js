"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createComponentClient = createComponentClient;
var _react = _interopRequireWildcard(require("react"));
var _config = require("../../config");
var _constants = require("../../constants");
var _lazyWait = require("../../lazy-wait");
var _phase = require("../../phase");
var _suspense = require("../../suspense");
var _constants2 = require("../constants");
var _errors = require("../errors");
var _render = require("../placeholders/render");
var _hydrate = require("../placeholders/hydrate");
var _preload = require("../preload");
var _profiler = require("../../profiler");
var _utils = require("./utils");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function createComponentClient({
  defer,
  deferred,
  dataLazyId,
  moduleId
}) {
  const {
    requestIdleCallback = setTimeout
  } = window;
  const ResolvedLazy = /*#__PURE__*/(0, _react.lazy)(() => deferred.promise);
  return props => {
    // use a single piece of state to hold info about progress or eventually
    // throw an error. We do change it via direct mutation as re-renders
    // break Suspense in React 18, making it lose hydration state
    const [status, bubbleError] = (0, _react.useState)(() => ({
      noWait: undefined,
      phase: defer === _constants.PHASE.AFTER_PAINT ? false : true,
      preloaded: defer === _constants.PHASE.AFTER_PAINT ? false : true,
      started: false
    }));
    const profiler = (0, _react.useContext)(_profiler.ProfilerContext).current;
    const load = () => {
      if (status.started || !status.phase || !status.noWait) {
        return;
      }
      status.started = true;
      let onResolve;
      if (profiler) {
        const eventInfo = {
          identifier: moduleId
        };
        onResolve = () => {
          profiler.onLoadComplete(eventInfo);
        };
        profiler.onLoadStart(eventInfo);
      }
      const result = deferred.start().catch(err => {
        // Throw the error within the component lifecycle
        // refer to https://github.com/facebook/react/issues/11409
        bubbleError(() => {
          throw (0, _errors.createLoaderError)(err);
        });
      });
      if (onResolve) {
        result.then(onResolve);
      }
    };

    // Subscribe to LazyWait context, triggering load when until is true
    (0, _utils.useSubscription)({
      context: _lazyWait.WaitContext,
      load,
      onValue: v => status.noWait = v === 1
    });
    if (defer === _constants.PHASE.AFTER_PAINT) {
      // Subscribe to LazyPhase context, triggering load when own phase starts
      (0, _utils.useSubscription)({
        context: _phase.LazyPhaseContext,
        load,
        onValue: v => status.phase = v >= defer
      });

      // Schedule preloading as will be needed soon
      (0, _react.useMemo)(() => {
        if (!status.preloaded) {
          status.preloaded = true;
          requestIdleCallback(() => {
            if (status.started) return;
            (0, _preload.preloadAsset)({
              loader: deferred.preload,
              moduleId,
              priority: _constants2.PRIORITY.LOW
            });
          });
        }
      }, [status]);
    }
    const {
      setFallback
    } = (0, _react.useContext)(_suspense.LazySuspenseContext);
    (0, _react.useMemo)(() => {
      // find SSR content (or fallbacks) wrapped in inputs based on lazyId
      const content = (_constants.COLLECTED.get(dataLazyId) || []).shift();
      if (!content) return;

      // override Suspense fallback with magic input wrappers
      const component = (0, _config.getConfig)().mode === _config.MODE.RENDER ? /*#__PURE__*/_react.default.createElement(_render.PlaceholderFallbackRender, {
        id: dataLazyId,
        content: content
      }) : /*#__PURE__*/_react.default.createElement(_hydrate.PlaceholderFallbackHydrate, {
        id: dataLazyId,
        content: content
      });
      setFallback(component);
    }, [setFallback]);
    return /*#__PURE__*/_react.default.createElement(ResolvedLazy, props);
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfY29uZmlnIiwiX2NvbnN0YW50cyIsIl9sYXp5V2FpdCIsIl9waGFzZSIsIl9zdXNwZW5zZSIsIl9jb25zdGFudHMyIiwiX2Vycm9ycyIsIl9yZW5kZXIiLCJfaHlkcmF0ZSIsIl9wcmVsb2FkIiwiX3Byb2ZpbGVyIiwiX3V0aWxzIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiY3JlYXRlQ29tcG9uZW50Q2xpZW50IiwiZGVmZXIiLCJkZWZlcnJlZCIsImRhdGFMYXp5SWQiLCJtb2R1bGVJZCIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJzZXRUaW1lb3V0Iiwid2luZG93IiwiUmVzb2x2ZWRMYXp5IiwibGF6eSIsInByb21pc2UiLCJwcm9wcyIsInN0YXR1cyIsImJ1YmJsZUVycm9yIiwidXNlU3RhdGUiLCJub1dhaXQiLCJ1bmRlZmluZWQiLCJwaGFzZSIsIlBIQVNFIiwiQUZURVJfUEFJTlQiLCJwcmVsb2FkZWQiLCJzdGFydGVkIiwicHJvZmlsZXIiLCJ1c2VDb250ZXh0IiwiUHJvZmlsZXJDb250ZXh0IiwiY3VycmVudCIsImxvYWQiLCJvblJlc29sdmUiLCJldmVudEluZm8iLCJpZGVudGlmaWVyIiwib25Mb2FkQ29tcGxldGUiLCJvbkxvYWRTdGFydCIsInJlc3VsdCIsInN0YXJ0IiwiY2F0Y2giLCJlcnIiLCJjcmVhdGVMb2FkZXJFcnJvciIsInRoZW4iLCJ1c2VTdWJzY3JpcHRpb24iLCJjb250ZXh0IiwiV2FpdENvbnRleHQiLCJvblZhbHVlIiwidiIsIkxhenlQaGFzZUNvbnRleHQiLCJ1c2VNZW1vIiwicHJlbG9hZEFzc2V0IiwibG9hZGVyIiwicHJlbG9hZCIsInByaW9yaXR5IiwiUFJJT1JJVFkiLCJMT1ciLCJzZXRGYWxsYmFjayIsIkxhenlTdXNwZW5zZUNvbnRleHQiLCJjb250ZW50IiwiQ09MTEVDVEVEIiwic2hpZnQiLCJjb21wb25lbnQiLCJnZXRDb25maWciLCJtb2RlIiwiTU9ERSIsIlJFTkRFUiIsImNyZWF0ZUVsZW1lbnQiLCJQbGFjZWhvbGRlckZhbGxiYWNrUmVuZGVyIiwiaWQiLCJQbGFjZWhvbGRlckZhbGxiYWNrSHlkcmF0ZSJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9sYXp5L2NvbXBvbmVudHMvY2xpZW50LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbGF6eSwgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudFByb3BzLCBDb21wb25lbnRUeXBlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBnZXRDb25maWcsIE1PREUgfSBmcm9tICcuLi8uLi9jb25maWcnO1xuaW1wb3J0IHsgQ09MTEVDVEVELCBQSEFTRSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBXYWl0Q29udGV4dCB9IGZyb20gJy4uLy4uL2xhenktd2FpdCc7XG5pbXBvcnQgeyBMYXp5UGhhc2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vcGhhc2UnO1xuaW1wb3J0IHsgTGF6eVN1c3BlbnNlQ29udGV4dCB9IGZyb20gJy4uLy4uL3N1c3BlbnNlJztcblxuaW1wb3J0IHsgUFJJT1JJVFkgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgRGVmZXJyZWQgfSBmcm9tICcuLi9kZWZlcnJlZCc7XG5pbXBvcnQgeyBjcmVhdGVMb2FkZXJFcnJvciB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBQbGFjZWhvbGRlckZhbGxiYWNrUmVuZGVyIH0gZnJvbSAnLi4vcGxhY2Vob2xkZXJzL3JlbmRlcic7XG5pbXBvcnQgeyBQbGFjZWhvbGRlckZhbGxiYWNrSHlkcmF0ZSB9IGZyb20gJy4uL3BsYWNlaG9sZGVycy9oeWRyYXRlJztcbmltcG9ydCB7IHByZWxvYWRBc3NldCB9IGZyb20gJy4uL3ByZWxvYWQnO1xuaW1wb3J0IHsgUHJvZmlsZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vcHJvZmlsZXInO1xuXG5pbXBvcnQgdHlwZSB7IFN0YXR1cyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgdXNlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnRDbGllbnQ8QyBleHRlbmRzIENvbXBvbmVudFR5cGU8YW55Pj4oe1xuICBkZWZlcixcbiAgZGVmZXJyZWQsXG4gIGRhdGFMYXp5SWQsXG4gIG1vZHVsZUlkLFxufToge1xuICBkZWZlcjogbnVtYmVyO1xuICBkZWZlcnJlZDogRGVmZXJyZWQ8Qz47XG4gIGRhdGFMYXp5SWQ6IHN0cmluZztcbiAgbW9kdWxlSWQ6IHN0cmluZztcbn0pIHtcbiAgY29uc3QgeyByZXF1ZXN0SWRsZUNhbGxiYWNrID0gc2V0VGltZW91dCB9ID0gd2luZG93O1xuICBjb25zdCBSZXNvbHZlZExhenkgPSBsYXp5KCgpID0+IGRlZmVycmVkLnByb21pc2UpO1xuXG4gIHJldHVybiAocHJvcHM6IENvbXBvbmVudFByb3BzPEM+KSA9PiB7XG4gICAgLy8gdXNlIGEgc2luZ2xlIHBpZWNlIG9mIHN0YXRlIHRvIGhvbGQgaW5mbyBhYm91dCBwcm9ncmVzcyBvciBldmVudHVhbGx5XG4gICAgLy8gdGhyb3cgYW4gZXJyb3IuIFdlIGRvIGNoYW5nZSBpdCB2aWEgZGlyZWN0IG11dGF0aW9uIGFzIHJlLXJlbmRlcnNcbiAgICAvLyBicmVhayBTdXNwZW5zZSBpbiBSZWFjdCAxOCwgbWFraW5nIGl0IGxvc2UgaHlkcmF0aW9uIHN0YXRlXG4gICAgY29uc3QgW3N0YXR1cywgYnViYmxlRXJyb3JdID0gdXNlU3RhdGU8U3RhdHVzPigoKSA9PiAoe1xuICAgICAgbm9XYWl0OiB1bmRlZmluZWQsXG4gICAgICBwaGFzZTogZGVmZXIgPT09IFBIQVNFLkFGVEVSX1BBSU5UID8gZmFsc2UgOiB0cnVlLFxuICAgICAgcHJlbG9hZGVkOiBkZWZlciA9PT0gUEhBU0UuQUZURVJfUEFJTlQgPyBmYWxzZSA6IHRydWUsXG4gICAgICBzdGFydGVkOiBmYWxzZSxcbiAgICB9KSk7XG5cbiAgICBjb25zdCBwcm9maWxlciA9IHVzZUNvbnRleHQoUHJvZmlsZXJDb250ZXh0KS5jdXJyZW50O1xuXG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgIGlmIChzdGF0dXMuc3RhcnRlZCB8fCAhc3RhdHVzLnBoYXNlIHx8ICFzdGF0dXMubm9XYWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3RhdHVzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgbGV0IG9uUmVzb2x2ZTtcbiAgICAgIGlmIChwcm9maWxlcikge1xuICAgICAgICBjb25zdCBldmVudEluZm8gPSB7IGlkZW50aWZpZXI6IG1vZHVsZUlkIH07XG4gICAgICAgIG9uUmVzb2x2ZSA9ICgpID0+IHtcbiAgICAgICAgICBwcm9maWxlci5vbkxvYWRDb21wbGV0ZShldmVudEluZm8pO1xuICAgICAgICB9O1xuICAgICAgICBwcm9maWxlci5vbkxvYWRTdGFydChldmVudEluZm8pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBkZWZlcnJlZC5zdGFydCgpLmNhdGNoKChlcnI6IEVycm9yKSA9PiB7XG4gICAgICAgIC8vIFRocm93IHRoZSBlcnJvciB3aXRoaW4gdGhlIGNvbXBvbmVudCBsaWZlY3ljbGVcbiAgICAgICAgLy8gcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMTQwOVxuICAgICAgICBidWJibGVFcnJvcigoKSA9PiB7XG4gICAgICAgICAgdGhyb3cgY3JlYXRlTG9hZGVyRXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKG9uUmVzb2x2ZSkge1xuICAgICAgICByZXN1bHQudGhlbihvblJlc29sdmUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gTGF6eVdhaXQgY29udGV4dCwgdHJpZ2dlcmluZyBsb2FkIHdoZW4gdW50aWwgaXMgdHJ1ZVxuICAgIHVzZVN1YnNjcmlwdGlvbih7XG4gICAgICBjb250ZXh0OiBXYWl0Q29udGV4dCxcbiAgICAgIGxvYWQsXG4gICAgICBvblZhbHVlOiB2ID0+IChzdGF0dXMubm9XYWl0ID0gdiA9PT0gMSksXG4gICAgfSk7XG5cbiAgICBpZiAoZGVmZXIgPT09IFBIQVNFLkFGVEVSX1BBSU5UKSB7XG4gICAgICAvLyBTdWJzY3JpYmUgdG8gTGF6eVBoYXNlIGNvbnRleHQsIHRyaWdnZXJpbmcgbG9hZCB3aGVuIG93biBwaGFzZSBzdGFydHNcbiAgICAgIHVzZVN1YnNjcmlwdGlvbih7XG4gICAgICAgIGNvbnRleHQ6IExhenlQaGFzZUNvbnRleHQsXG4gICAgICAgIGxvYWQsXG4gICAgICAgIG9uVmFsdWU6IHYgPT4gKHN0YXR1cy5waGFzZSA9IHYgPj0gZGVmZXIpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNjaGVkdWxlIHByZWxvYWRpbmcgYXMgd2lsbCBiZSBuZWVkZWQgc29vblxuICAgICAgdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICghc3RhdHVzLnByZWxvYWRlZCkge1xuICAgICAgICAgIHN0YXR1cy5wcmVsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgIHJlcXVlc3RJZGxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHN0YXR1cy5zdGFydGVkKSByZXR1cm47XG4gICAgICAgICAgICBwcmVsb2FkQXNzZXQoe1xuICAgICAgICAgICAgICBsb2FkZXI6IGRlZmVycmVkLnByZWxvYWQsXG4gICAgICAgICAgICAgIG1vZHVsZUlkLFxuICAgICAgICAgICAgICBwcmlvcml0eTogUFJJT1JJVFkuTE9XLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIFtzdGF0dXNdKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHNldEZhbGxiYWNrIH0gPSB1c2VDb250ZXh0KExhenlTdXNwZW5zZUNvbnRleHQpO1xuXG4gICAgdXNlTWVtbygoKSA9PiB7XG4gICAgICAvLyBmaW5kIFNTUiBjb250ZW50IChvciBmYWxsYmFja3MpIHdyYXBwZWQgaW4gaW5wdXRzIGJhc2VkIG9uIGxhenlJZFxuICAgICAgY29uc3QgY29udGVudCA9IChDT0xMRUNURUQuZ2V0KGRhdGFMYXp5SWQpIHx8IFtdKS5zaGlmdCgpO1xuICAgICAgaWYgKCFjb250ZW50KSByZXR1cm47XG5cbiAgICAgIC8vIG92ZXJyaWRlIFN1c3BlbnNlIGZhbGxiYWNrIHdpdGggbWFnaWMgaW5wdXQgd3JhcHBlcnNcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9XG4gICAgICAgIGdldENvbmZpZygpLm1vZGUgPT09IE1PREUuUkVOREVSID8gKFxuICAgICAgICAgIDxQbGFjZWhvbGRlckZhbGxiYWNrUmVuZGVyIGlkPXtkYXRhTGF6eUlkfSBjb250ZW50PXtjb250ZW50fSAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxQbGFjZWhvbGRlckZhbGxiYWNrSHlkcmF0ZSBpZD17ZGF0YUxhenlJZH0gY29udGVudD17Y29udGVudH0gLz5cbiAgICAgICAgKTtcbiAgICAgIHNldEZhbGxiYWNrKGNvbXBvbmVudCk7XG4gICAgfSwgW3NldEZhbGxiYWNrXSk7XG5cbiAgICByZXR1cm4gPFJlc29sdmVkTGF6eSB7Li4ucHJvcHN9IC8+O1xuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFHQSxJQUFBQyxPQUFBLEdBQUFELE9BQUE7QUFD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