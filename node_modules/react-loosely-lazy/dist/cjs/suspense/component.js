"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LazySuspense = void 0;
var _react = _interopRequireWildcard(require("react"));
var _utils = require("../utils");
var _context = require("./context");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
/**
 * This component implements a multi step system in order to be consumed on SSR
 * and still allow hydration and render a suspense boundary without having React
 * throw away the SSR content or complaining that the html code does not match.
 *
 * Most of the behaciour is implemented by communicating via context with the
 * lazy child. The lazy component is indeed responsible of collecting its own
 * SSR output and let this suspense alternative render it as fallback.
 *
 * To be clear, it does not render Suspense on the server: it only renders
 * a context provider in order to pass the fallback down to the child being
 * rendered if the lazy component is not there.
 *
 * Then on the client, during hydration, it renders the same provider with
 * two children: the first is the real Suspense component, that renders
 * the lazy child, catching any promise being thrown and wait; the second
 * is the hydration compliant component: it maintains SSR content until
 * the suspended promise is resolved.
 *
 * So during this step, if there is SSR content Suspense renders null and
 * the hydration fallback is rendered as sibling. If not, the lazy child
 * will signal to render the fallback prop, removing the hydration fallback.
 *
 * Once the suspended promise is resolved, Suspense will remove its own
 * fallback but will also tell LazySuspense to get rid of the hydration one.
 *
 */
class LazySuspense extends _react.Component {
  state = {
    // Used on server to render fallback down the tree
    fallback: this.props.fallback,
    // Used on client to replace fallback with magic input
    setFallback: fallback => {
      if (this.hydrationFallback === fallback) return;
      this.hydrationFallback = fallback;
      // Schedule an update so we force switch from the sibling tree
      // back to the suspense boundary
      if (this.mounted) this.forceUpdate();
    }
  };
  hydrationFallback = null;
  mounted = false;
  constructor(props) {
    super(props);
    this.DynamicFallback.displayName = 'DynamicFallback';
  }
  componentDidMount() {
    this.mounted = true;
  }
  DynamicFallback = ({
    children,
    outsideSuspense
  }) => {
    // eslint-disable-next-line react-hooks/rules-of-hooks
    (0, _react.useLayoutEffect)(() => {
      return () => {
        // the effect cleanup is called by the Suspense boundary itself
        // when both Lazy AND the eventual promises thrown are done
        // so Suspense will re-render with actual content and we remove
        // the hydration fallback at the same time
        if (!outsideSuspense) this.state.setFallback(null);
      };
    }, [outsideSuspense]);
    return outsideSuspense ? children(this.hydrationFallback ? this.hydrationFallback : null) : children(this.hydrationFallback ? null : this.props.fallback);
  };
  renderFallback(outsideSuspense) {
    const {
      DynamicFallback
    } = this;

    // Use render prop component to allow switch to hydration fallback
    return /*#__PURE__*/_react.default.createElement(DynamicFallback, {
      outsideSuspense: outsideSuspense
    }, fallback => fallback);
  }
  renderServer() {
    return /*#__PURE__*/_react.default.createElement(_context.LazySuspenseContext.Provider, {
      value: this.state
    }, this.props.children);
  }
  renderClient() {
    return /*#__PURE__*/_react.default.createElement(_context.LazySuspenseContext.Provider, {
      value: this.state
    }, /*#__PURE__*/_react.default.createElement(_react.Suspense, {
      fallback: this.renderFallback(false)
    }, this.props.children), (!this.mounted || this.hydrationFallback) && this.renderFallback(true));
  }
  render() {
    return (0, _utils.isNodeEnvironment)() ? this.renderServer() : this.renderClient();
  }
}
exports.LazySuspense = LazySuspense;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfdXRpbHMiLCJfY29udGV4dCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIkxhenlTdXNwZW5zZSIsIkNvbXBvbmVudCIsInN0YXRlIiwiZmFsbGJhY2siLCJwcm9wcyIsInNldEZhbGxiYWNrIiwiaHlkcmF0aW9uRmFsbGJhY2siLCJtb3VudGVkIiwiZm9yY2VVcGRhdGUiLCJjb25zdHJ1Y3RvciIsIkR5bmFtaWNGYWxsYmFjayIsImRpc3BsYXlOYW1lIiwiY29tcG9uZW50RGlkTW91bnQiLCJjaGlsZHJlbiIsIm91dHNpZGVTdXNwZW5zZSIsInVzZUxheW91dEVmZmVjdCIsInJlbmRlckZhbGxiYWNrIiwiY3JlYXRlRWxlbWVudCIsInJlbmRlclNlcnZlciIsIkxhenlTdXNwZW5zZUNvbnRleHQiLCJQcm92aWRlciIsInZhbHVlIiwicmVuZGVyQ2xpZW50IiwiU3VzcGVuc2UiLCJyZW5kZXIiLCJpc05vZGVFbnZpcm9ubWVudCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc3VzcGVuc2UvY29tcG9uZW50LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBTdXNwZW5zZSwgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgaXNOb2RlRW52aXJvbm1lbnQgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IExhenlTdXNwZW5zZUNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQnO1xuaW1wb3J0IHsgRmFsbGJhY2ssIExhenlTdXNwZW5zZUNvbnRleHRUeXBlLCBMYXp5U3VzcGVuc2VQcm9wcyB9IGZyb20gJy4vdHlwZXMnO1xuXG50eXBlIExhenlTdXNwZW5zZVN0YXRlID0gTGF6eVN1c3BlbnNlQ29udGV4dFR5cGU7XG5cbnR5cGUgRHluYW1pY0ZhbGxiYWNrUHJvcHMgPSB7XG4gIGNoaWxkcmVuKGZhbGxiYWNrOiBGYWxsYmFjayk6IGFueTtcbiAgb3V0c2lkZVN1c3BlbnNlOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBpbXBsZW1lbnRzIGEgbXVsdGkgc3RlcCBzeXN0ZW0gaW4gb3JkZXIgdG8gYmUgY29uc3VtZWQgb24gU1NSXG4gKiBhbmQgc3RpbGwgYWxsb3cgaHlkcmF0aW9uIGFuZCByZW5kZXIgYSBzdXNwZW5zZSBib3VuZGFyeSB3aXRob3V0IGhhdmluZyBSZWFjdFxuICogdGhyb3cgYXdheSB0aGUgU1NSIGNvbnRlbnQgb3IgY29tcGxhaW5pbmcgdGhhdCB0aGUgaHRtbCBjb2RlIGRvZXMgbm90IG1hdGNoLlxuICpcbiAqIE1vc3Qgb2YgdGhlIGJlaGFjaW91ciBpcyBpbXBsZW1lbnRlZCBieSBjb21tdW5pY2F0aW5nIHZpYSBjb250ZXh0IHdpdGggdGhlXG4gKiBsYXp5IGNoaWxkLiBUaGUgbGF6eSBjb21wb25lbnQgaXMgaW5kZWVkIHJlc3BvbnNpYmxlIG9mIGNvbGxlY3RpbmcgaXRzIG93blxuICogU1NSIG91dHB1dCBhbmQgbGV0IHRoaXMgc3VzcGVuc2UgYWx0ZXJuYXRpdmUgcmVuZGVyIGl0IGFzIGZhbGxiYWNrLlxuICpcbiAqIFRvIGJlIGNsZWFyLCBpdCBkb2VzIG5vdCByZW5kZXIgU3VzcGVuc2Ugb24gdGhlIHNlcnZlcjogaXQgb25seSByZW5kZXJzXG4gKiBhIGNvbnRleHQgcHJvdmlkZXIgaW4gb3JkZXIgdG8gcGFzcyB0aGUgZmFsbGJhY2sgZG93biB0byB0aGUgY2hpbGQgYmVpbmdcbiAqIHJlbmRlcmVkIGlmIHRoZSBsYXp5IGNvbXBvbmVudCBpcyBub3QgdGhlcmUuXG4gKlxuICogVGhlbiBvbiB0aGUgY2xpZW50LCBkdXJpbmcgaHlkcmF0aW9uLCBpdCByZW5kZXJzIHRoZSBzYW1lIHByb3ZpZGVyIHdpdGhcbiAqIHR3byBjaGlsZHJlbjogdGhlIGZpcnN0IGlzIHRoZSByZWFsIFN1c3BlbnNlIGNvbXBvbmVudCwgdGhhdCByZW5kZXJzXG4gKiB0aGUgbGF6eSBjaGlsZCwgY2F0Y2hpbmcgYW55IHByb21pc2UgYmVpbmcgdGhyb3duIGFuZCB3YWl0OyB0aGUgc2Vjb25kXG4gKiBpcyB0aGUgaHlkcmF0aW9uIGNvbXBsaWFudCBjb21wb25lbnQ6IGl0IG1haW50YWlucyBTU1IgY29udGVudCB1bnRpbFxuICogdGhlIHN1c3BlbmRlZCBwcm9taXNlIGlzIHJlc29sdmVkLlxuICpcbiAqIFNvIGR1cmluZyB0aGlzIHN0ZXAsIGlmIHRoZXJlIGlzIFNTUiBjb250ZW50IFN1c3BlbnNlIHJlbmRlcnMgbnVsbCBhbmRcbiAqIHRoZSBoeWRyYXRpb24gZmFsbGJhY2sgaXMgcmVuZGVyZWQgYXMgc2libGluZy4gSWYgbm90LCB0aGUgbGF6eSBjaGlsZFxuICogd2lsbCBzaWduYWwgdG8gcmVuZGVyIHRoZSBmYWxsYmFjayBwcm9wLCByZW1vdmluZyB0aGUgaHlkcmF0aW9uIGZhbGxiYWNrLlxuICpcbiAqIE9uY2UgdGhlIHN1c3BlbmRlZCBwcm9taXNlIGlzIHJlc29sdmVkLCBTdXNwZW5zZSB3aWxsIHJlbW92ZSBpdHMgb3duXG4gKiBmYWxsYmFjayBidXQgd2lsbCBhbHNvIHRlbGwgTGF6eVN1c3BlbnNlIHRvIGdldCByaWQgb2YgdGhlIGh5ZHJhdGlvbiBvbmUuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgTGF6eVN1c3BlbnNlIGV4dGVuZHMgQ29tcG9uZW50PFxuICBMYXp5U3VzcGVuc2VQcm9wcyxcbiAgTGF6eVN1c3BlbnNlU3RhdGVcbj4ge1xuICBzdGF0ZSA9IHtcbiAgICAvLyBVc2VkIG9uIHNlcnZlciB0byByZW5kZXIgZmFsbGJhY2sgZG93biB0aGUgdHJlZVxuICAgIGZhbGxiYWNrOiB0aGlzLnByb3BzLmZhbGxiYWNrLFxuICAgIC8vIFVzZWQgb24gY2xpZW50IHRvIHJlcGxhY2UgZmFsbGJhY2sgd2l0aCBtYWdpYyBpbnB1dFxuICAgIHNldEZhbGxiYWNrOiAoZmFsbGJhY2s6IEZhbGxiYWNrKSA9PiB7XG4gICAgICBpZiAodGhpcy5oeWRyYXRpb25GYWxsYmFjayA9PT0gZmFsbGJhY2spIHJldHVybjtcbiAgICAgIHRoaXMuaHlkcmF0aW9uRmFsbGJhY2sgPSBmYWxsYmFjaztcbiAgICAgIC8vIFNjaGVkdWxlIGFuIHVwZGF0ZSBzbyB3ZSBmb3JjZSBzd2l0Y2ggZnJvbSB0aGUgc2libGluZyB0cmVlXG4gICAgICAvLyBiYWNrIHRvIHRoZSBzdXNwZW5zZSBib3VuZGFyeVxuICAgICAgaWYgKHRoaXMubW91bnRlZCkgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH0sXG4gIH07XG5cbiAgcHJpdmF0ZSBoeWRyYXRpb25GYWxsYmFjazogRmFsbGJhY2sgPSBudWxsO1xuICBwcml2YXRlIG1vdW50ZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogTGF6eVN1c3BlbnNlUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5EeW5hbWljRmFsbGJhY2suZGlzcGxheU5hbWUgPSAnRHluYW1pY0ZhbGxiYWNrJztcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMubW91bnRlZCA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIER5bmFtaWNGYWxsYmFjazogRnVuY3Rpb25Db21wb25lbnQ8RHluYW1pY0ZhbGxiYWNrUHJvcHM+ID0gKHtcbiAgICBjaGlsZHJlbixcbiAgICBvdXRzaWRlU3VzcGVuc2UsXG4gIH0pID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgLy8gdGhlIGVmZmVjdCBjbGVhbnVwIGlzIGNhbGxlZCBieSB0aGUgU3VzcGVuc2UgYm91bmRhcnkgaXRzZWxmXG4gICAgICAgIC8vIHdoZW4gYm90aCBMYXp5IEFORCB0aGUgZXZlbnR1YWwgcHJvbWlzZXMgdGhyb3duIGFyZSBkb25lXG4gICAgICAgIC8vIHNvIFN1c3BlbnNlIHdpbGwgcmUtcmVuZGVyIHdpdGggYWN0dWFsIGNvbnRlbnQgYW5kIHdlIHJlbW92ZVxuICAgICAgICAvLyB0aGUgaHlkcmF0aW9uIGZhbGxiYWNrIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgaWYgKCFvdXRzaWRlU3VzcGVuc2UpIHRoaXMuc3RhdGUuc2V0RmFsbGJhY2sobnVsbCk7XG4gICAgICB9O1xuICAgIH0sIFtvdXRzaWRlU3VzcGVuc2VdKTtcblxuICAgIHJldHVybiBvdXRzaWRlU3VzcGVuc2VcbiAgICAgID8gY2hpbGRyZW4odGhpcy5oeWRyYXRpb25GYWxsYmFjayA/IHRoaXMuaHlkcmF0aW9uRmFsbGJhY2sgOiBudWxsKVxuICAgICAgOiBjaGlsZHJlbih0aGlzLmh5ZHJhdGlvbkZhbGxiYWNrID8gbnVsbCA6IHRoaXMucHJvcHMuZmFsbGJhY2spO1xuICB9O1xuXG4gIHByaXZhdGUgcmVuZGVyRmFsbGJhY2sob3V0c2lkZVN1c3BlbnNlOiBib29sZWFuKSB7XG4gICAgY29uc3QgeyBEeW5hbWljRmFsbGJhY2sgfSA9IHRoaXM7XG5cbiAgICAvLyBVc2UgcmVuZGVyIHByb3AgY29tcG9uZW50IHRvIGFsbG93IHN3aXRjaCB0byBoeWRyYXRpb24gZmFsbGJhY2tcbiAgICByZXR1cm4gKFxuICAgICAgPER5bmFtaWNGYWxsYmFjayBvdXRzaWRlU3VzcGVuc2U9e291dHNpZGVTdXNwZW5zZX0+XG4gICAgICAgIHsoZmFsbGJhY2s6IEZhbGxiYWNrKSA9PiBmYWxsYmFja31cbiAgICAgIDwvRHluYW1pY0ZhbGxiYWNrPlxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclNlcnZlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExhenlTdXNwZW5zZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3RoaXMuc3RhdGV9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvTGF6eVN1c3BlbnNlQ29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJDbGllbnQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXp5U3VzcGVuc2VDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt0aGlzLnN0YXRlfT5cbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXt0aGlzLnJlbmRlckZhbGxiYWNrKGZhbHNlKX0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvU3VzcGVuc2U+XG4gICAgICAgIHsoIXRoaXMubW91bnRlZCB8fCB0aGlzLmh5ZHJhdGlvbkZhbGxiYWNrKSAmJiB0aGlzLnJlbmRlckZhbGxiYWNrKHRydWUpfVxuICAgICAgPC9MYXp5U3VzcGVuc2VDb250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGlzTm9kZUVudmlyb25tZW50KCkgPyB0aGlzLnJlbmRlclNlcnZlcigpIDogdGhpcy5yZW5kZXJDbGllbnQoKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFHQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFFQSxJQUFBRSxRQUFBLEdBQUFGLE9BQUE7QUFBZ0QsU0FBQUcseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEs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