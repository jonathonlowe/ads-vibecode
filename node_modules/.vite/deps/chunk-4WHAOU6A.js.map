{
  "version": 3,
  "sources": ["../../tabbable/index.js", "../../focus-trap/index.js", "../../@atlaskit/icon/utility/chevron-down.js", "../../@atlaskit/icon/glyph/chevron-down.js", "../../@atlaskit/icon/utility/migration/chevron-down.js", "../../@atlaskit/popup/dist/esm/popup.js", "../../@atlaskit/layering/dist/esm/components/layering-context.js", "../../@atlaskit/layering/dist/esm/hooks/index.js", "../../@atlaskit/popup/dist/esm/popper-wrapper.js", "../../@atlaskit/popup/dist/esm/reposition-on-update.js", "../../@atlaskit/popup/dist/esm/use-close-manager.js", "../../@atlaskit/popup/dist/esm/utils/is-element-interactive.js", "../../@atlaskit/popup/dist/esm/utils/use-animation-frame.js", "../../@atlaskit/popup/dist/esm/use-focus-manager.js", "../../@atlaskit/popup/dist/esm/use-appearance.js", "../../@atlaskit/popup/dist/esm/use-get-memoized-merged-trigger-ref.js", "../../memoize-one/dist/memoize-one.esm.js", "../../@atlaskit/popup/dist/esm/use-get-memoized-merged-trigger-ref-new.js", "../../@atlaskit/popup/dist/esm/index.js"],
  "sourcesContent": ["module.exports = function(el, options) {\n  options = options || {};\n\n  var elementDocument = el.ownerDocument || el;\n  var basicTabbables = [];\n  var orderedTabbables = [];\n\n  // A node is \"available\" if\n  // - it's computed style\n  var isUnavailable = createIsUnavailable(elementDocument);\n\n  var candidateSelectors = [\n    'input',\n    'select',\n    'a[href]',\n    'textarea',\n    'button',\n    '[tabindex]',\n  ];\n\n  var candidates = el.querySelectorAll(candidateSelectors.join(','));\n\n  if (options.includeContainer) {\n    var matches = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n    if (\n      candidateSelectors.some(function(candidateSelector) {\n        return matches.call(el, candidateSelector);\n      })\n    ) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var candidate, candidateIndexAttr, candidateIndex;\n  for (var i = 0, l = candidates.length; i < l; i++) {\n    candidate = candidates[i];\n    candidateIndexAttr = parseInt(candidate.getAttribute('tabindex'), 10)\n    candidateIndex = isNaN(candidateIndexAttr) ? candidate.tabIndex : candidateIndexAttr;\n\n    if (\n      candidateIndex < 0\n      || (candidate.tagName === 'INPUT' && candidate.type === 'hidden')\n      || candidate.disabled\n      || isUnavailable(candidate, elementDocument)\n    ) {\n      continue;\n    }\n\n    if (candidateIndex === 0) {\n      basicTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        index: i,\n        tabIndex: candidateIndex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(function(a, b) {\n      return a.tabIndex === b.tabIndex ? a.index - b.index : a.tabIndex - b.tabIndex;\n    })\n    .map(function(a) {\n      return a.node\n    });\n\n  Array.prototype.push.apply(tabbableNodes, basicTabbables);\n\n  return tabbableNodes;\n}\n\nfunction createIsUnavailable(elementDocument) {\n  // Node cache must be refreshed on every check, in case\n  // the content of the element has changed\n  var isOffCache = [];\n\n  // \"off\" means `display: none;`, as opposed to \"hidden\",\n  // which means `visibility: hidden;`. getComputedStyle\n  // accurately reflects visiblity in context but not\n  // \"off\" state, so we need to recursively check parents.\n\n  function isOff(node, nodeComputedStyle) {\n    if (node === elementDocument.documentElement) return false;\n\n    // Find the cached node (Array.prototype.find not available in IE9)\n    for (var i = 0, length = isOffCache.length; i < length; i++) {\n      if (isOffCache[i][0] === node) return isOffCache[i][1];\n    }\n\n    nodeComputedStyle = nodeComputedStyle || elementDocument.defaultView.getComputedStyle(node);\n\n    var result = false;\n\n    if (nodeComputedStyle.display === 'none') {\n      result = true;\n    } else if (node.parentNode) {\n      result = isOff(node.parentNode);\n    }\n\n    isOffCache.push([node, result]);\n\n    return result;\n  }\n\n  return function isUnavailable(node) {\n    if (node === elementDocument.documentElement) return false;\n\n    var computedStyle = elementDocument.defaultView.getComputedStyle(node);\n\n    if (isOff(node, computedStyle)) return true;\n\n    return computedStyle.visibility === 'hidden';\n  }\n}\n", "var tabbable = require('tabbable');\n\nvar listeningFocusTrap = null;\n\nfunction focusTrap(element, userOptions) {\n  var tabbableNodes = [];\n  var firstTabbableNode = null;\n  var lastTabbableNode = null;\n  var nodeFocusedBeforeActivation = null;\n  var active = false;\n  var paused = false;\n  var tabEvent = null;\n\n  var container = (typeof element === 'string')\n    ? document.querySelector(element)\n    : element;\n\n  var config = userOptions || {};\n  config.returnFocusOnDeactivate = (userOptions && userOptions.returnFocusOnDeactivate !== undefined)\n    ? userOptions.returnFocusOnDeactivate\n    : true;\n  config.escapeDeactivates = (userOptions && userOptions.escapeDeactivates !== undefined)\n    ? userOptions.escapeDeactivates\n    : true;\n\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause,\n  };\n\n  return trap;\n\n  function activate(activateOptions) {\n    if (active) return;\n\n    var defaultedActivateOptions = {\n      onActivate: (activateOptions && activateOptions.onActivate !== undefined)\n        ? activateOptions.onActivate\n        : config.onActivate,\n    };\n\n    active = true;\n    paused = false;\n    nodeFocusedBeforeActivation = document.activeElement;\n\n    if (defaultedActivateOptions.onActivate) {\n      defaultedActivateOptions.onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!active) return;\n\n    var defaultedDeactivateOptions = {\n      returnFocus: (deactivateOptions && deactivateOptions.returnFocus !== undefined)\n        ? deactivateOptions.returnFocus\n        : config.returnFocusOnDeactivate,\n      onDeactivate: (deactivateOptions && deactivateOptions.onDeactivate !== undefined)\n        ? deactivateOptions.onDeactivate\n        : config.onDeactivate,\n    };\n\n    removeListeners();\n\n    if (defaultedDeactivateOptions.onDeactivate) {\n      defaultedDeactivateOptions.onDeactivate();\n    }\n\n    if (defaultedDeactivateOptions.returnFocus) {\n      setTimeout(function () {\n        tryFocus(nodeFocusedBeforeActivation);\n      }, 0);\n    }\n\n    active = false;\n    paused = false;\n    return this;\n  }\n\n  function pause() {\n    if (paused || !active) return;\n    paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!paused || !active) return;\n    paused = false;\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!active) return;\n\n    // There can be only one listening focus trap at a time\n    if (listeningFocusTrap) {\n      listeningFocusTrap.pause();\n    }\n    listeningFocusTrap = trap;\n\n    updateTabbableNodes();\n    // Ensure that the focused element doesn't capture the event that caused the focus trap activation\n    setTimeout(function () {\n      tryFocus(firstFocusNode());\n    }, 0);\n    document.addEventListener('focus', checkFocus, true);\n    document.addEventListener('click', checkClick, true);\n    document.addEventListener('mousedown', checkPointerDown, true);\n    document.addEventListener('touchstart', checkPointerDown, true);\n    document.addEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!active || listeningFocusTrap !== trap) return;\n\n    document.removeEventListener('focus', checkFocus, true);\n    document.removeEventListener('click', checkClick, true);\n    document.removeEventListener('mousedown', checkPointerDown, true);\n    document.removeEventListener('touchstart', checkPointerDown, true);\n    document.removeEventListener('keydown', checkKey, true);\n\n    listeningFocusTrap = null;\n\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n    if (!optionValue) {\n      return null;\n    }\n    if (typeof optionValue === 'string') {\n      node = document.querySelector(optionValue);\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n    return node;\n  }\n\n  function firstFocusNode() {\n    var node;\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(document.activeElement)) {\n      node = document.activeElement;\n    } else {\n      node = tabbableNodes[0] || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error('You can\\'t have a focus-trap without at least one focusable element');\n    }\n\n    return node;\n  }\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event\n  function checkPointerDown(e) {\n    if (config.clickOutsideDeactivates && !container.contains(e.target)) {\n      deactivate({ returnFocus: false });\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function checkFocus(e) {\n    if (container.contains(e.target)) return;\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    // Checking for a blur method here resolves a Firefox issue (#15)\n    if (typeof e.target.blur === 'function') e.target.blur();\n\n    if (tabEvent) {\n      readjustFocus(tabEvent);\n    }\n  }\n\n  function checkKey(e) {\n    if (e.key === 'Tab' || e.keyCode === 9) {\n      handleTab(e);\n    }\n\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      deactivate();\n    }\n  }\n\n  function handleTab(e) {\n    updateTabbableNodes();\n\n    if (e.target.hasAttribute('tabindex') && Number(e.target.getAttribute('tabindex')) < 0) {\n      return tabEvent = e;\n    }\n\n    e.preventDefault();\n    var currentFocusIndex = tabbableNodes.indexOf(e.target);\n\n    if (e.shiftKey) {\n      if (e.target === firstTabbableNode || tabbableNodes.indexOf(e.target) === -1) {\n        return tryFocus(lastTabbableNode);\n      }\n      return tryFocus(tabbableNodes[currentFocusIndex - 1]);\n    }\n\n    if (e.target === lastTabbableNode) return tryFocus(firstTabbableNode);\n\n    tryFocus(tabbableNodes[currentFocusIndex + 1]);\n  }\n\n  function updateTabbableNodes() {\n    tabbableNodes = tabbable(container);\n    firstTabbableNode = tabbableNodes[0];\n    lastTabbableNode = tabbableNodes[tabbableNodes.length - 1];\n  }\n\n  function readjustFocus(e) {\n    if (e.shiftKey) return tryFocus(lastTabbableNode);\n\n    tryFocus(firstTabbableNode);\n  }\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction tryFocus(node) {\n  if (!node || !node.focus) return;\n  if (node === document.activeElement)  return;\n\n  node.focus();\n  if (node.tagName.toLowerCase() === 'input') {\n    node.select();\n  }\n}\n\nmodule.exports = focusTrap;\n", "/**\n * THIS FILE WAS CREATED VIA CODEGEN DO NOT MODIFY {@see http://go/af-codegen}\n * @codegen <<SignedSource::1a026656028c05157ac730015f665601>>\n * @codegenCommand yarn build:icon-glyphs\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _baseNew = _interopRequireDefault(require(\"@atlaskit/icon/base-new\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/**\n * Icon: \"ChevronDown\".\n * Category: utility\n * Location: @atlaskit/icon\n * Usage guidance: Reserved for dropdown menus, selects, accordions, and expands.\n * - [Examples](https://atlaskit.atlassian.com/packages/design-system/icon)\n * - [Code](https://atlaskit.atlassian.com/packages/design-system/icon/docs/custom-icons)\n */\nconst ChevronDownIcon = props => /*#__PURE__*/_react.default.createElement(_baseNew.default, Object.assign({\n  dangerouslySetGlyph: `<path fill=\"currentcolor\" fill-rule=\"evenodd\" d=\"M2.03 3.97 6 7.94l3.97-3.97 1.06 1.06-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5z\" clip-rule=\"evenodd\"/>`,\n  type: 'utility'\n  // eslint-disable-next-line @repo/internal/react/no-unsafe-spread-props\n}, props));\nChevronDownIcon.displayName = 'ChevronDownIcon';\nvar _default = exports.default = ChevronDownIcon;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _base = require(\"@atlaskit/icon/base\");\nvar _chevronDown = _interopRequireDefault(require(\"@atlaskit/icon/utility/chevron-down\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst ChevronDownIcon = props => /*#__PURE__*/_react.default.createElement(_base.IconFacade, Object.assign({\n  dangerouslySetGlyph: `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" role=\"presentation\"><path fill=\"currentcolor\" fill-rule=\"evenodd\" d=\"M8.292 10.293a1.01 1.01 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0\"/></svg>`\n}, props, {\n  newIcon: _chevronDown.default,\n  iconType: \"utility\"\n}));\nChevronDownIcon.displayName = 'ChevronDownIcon';\nvar _default = exports.default = ChevronDownIcon;", "/**\n * THIS FILE WAS CREATED VIA CODEGEN DO NOT MODIFY {@see http://go/af-codegen}\n * @codegen <<SignedSource::5a08e2cd9fd0eae78f18da4572f37370>>\n * @codegenCommand yarn build:icon-glyphs\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _chevronDown = _interopRequireDefault(require(\"@atlaskit/icon/utility/chevron-down\"));\nvar _chevronDown2 = _interopRequireDefault(require(\"@atlaskit/icon/glyph/chevron-down\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/**\n * Migration Icon component for ChevronDownIcon.\n * This component is ChevronDownIcon, with `UNSAFE_fallbackIcon` set to \"ChevronDownIcon\".\n *\n * Category: utility\n * Location: @atlaskit/icon\n * Usage guidance: Reserved for dropdown menus, selects, accordions, and expands.\n * - [Examples](https://atlaskit.atlassian.com/packages/design-system/icon)\n * - [Code](https://atlaskit.atlassian.com/packages/design-system/icon/docs/custom-icons)\n */\nconst ChevronDownIcon = props => /*#__PURE__*/_react.default.createElement(_chevronDown.default, Object.assign({\n  LEGACY_fallbackIcon: _chevronDown2.default\n  // eslint-disable-next-line @repo/internal/react/no-unsafe-spread-props\n}, props));\nChevronDownIcon.Name = 'ChevronDownIconMigration';\nvar _default = exports.default = ChevronDownIcon;", "/* popup.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport \"./popup.compiled.css\";\nimport * as React from 'react';\nimport { ax, ix } from \"@compiled/react/runtime\";\n/* eslint-disable @repo/internal/react/require-jsdoc */\n\nimport { memo, useCallback, useState } from 'react';\nimport { useId } from '@atlaskit/ds-lib/use-id';\nimport { Layering } from '@atlaskit/layering';\nimport { useNotifyOpenLayerObserver } from '@atlaskit/layering/experimental/open-layer-observer';\nimport { fg } from '@atlaskit/platform-feature-flags';\nimport { Manager, Reference } from '@atlaskit/popper';\nimport Portal from '@atlaskit/portal';\nimport { Box } from '@atlaskit/primitives/compiled';\nimport PopperWrapper from './popper-wrapper';\nimport { usePopupAppearance } from './use-appearance';\nimport { useGetMemoizedMergedTriggerRef } from './use-get-memoized-merged-trigger-ref';\nimport { useGetMemoizedMergedTriggerRefNew } from './use-get-memoized-merged-trigger-ref-new';\nvar defaultLayer = 400;\nvar wrapperStyles = {\n  root: \"_kqswh2mm\"\n};\nexport var Popup = /*#__PURE__*/memo(function (_ref) {\n  var xcss = _ref.xcss,\n    _ref$appearance = _ref.appearance,\n    inAppearance = _ref$appearance === void 0 ? 'default' : _ref$appearance,\n    isOpen = _ref.isOpen,\n    providedId = _ref.id,\n    offset = _ref.offset,\n    testId = _ref.testId,\n    trigger = _ref.trigger,\n    content = _ref.content,\n    onClose = _ref.onClose,\n    boundary = _ref.boundary,\n    _ref$rootBoundary = _ref.rootBoundary,\n    rootBoundary = _ref$rootBoundary === void 0 ? 'viewport' : _ref$rootBoundary,\n    _ref$shouldFlip = _ref.shouldFlip,\n    shouldFlip = _ref$shouldFlip === void 0 ? true : _ref$shouldFlip,\n    _ref$placement = _ref.placement,\n    placement = _ref$placement === void 0 ? 'auto' : _ref$placement,\n    fallbackPlacements = _ref.fallbackPlacements,\n    PopupContainer = _ref.popupComponent,\n    _ref$autoFocus = _ref.autoFocus,\n    autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n    _ref$zIndex = _ref.zIndex,\n    zIndex = _ref$zIndex === void 0 ? defaultLayer : _ref$zIndex,\n    _ref$shouldUseCapture = _ref.shouldUseCaptureOnOutsideClick,\n    shouldUseCaptureOnOutsideClick = _ref$shouldUseCapture === void 0 ? false : _ref$shouldUseCapture,\n    _ref$shouldRenderToPa = _ref.shouldRenderToParent,\n    inShouldRenderToParent = _ref$shouldRenderToPa === void 0 ? false : _ref$shouldRenderToPa,\n    _ref$shouldFitContain = _ref.shouldFitContainer,\n    shouldFitContainer = _ref$shouldFitContain === void 0 ? false : _ref$shouldFitContain,\n    _ref$shouldDisableFoc = _ref.shouldDisableFocusLock,\n    shouldDisableFocusLock = _ref$shouldDisableFoc === void 0 ? false : _ref$shouldDisableFoc,\n    _ref$shouldReturnFocu = _ref.shouldReturnFocus,\n    shouldReturnFocus = _ref$shouldReturnFocu === void 0 ? true : _ref$shouldReturnFocu,\n    strategy = _ref.strategy,\n    role = _ref.role,\n    label = _ref.label,\n    titleId = _ref.titleId,\n    modifiers = _ref.modifiers,\n    shouldFitViewport = _ref.shouldFitViewport;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    triggerRef = _useState2[0],\n    setTriggerRef = _useState2[1];\n  var getMergedTriggerRef = useGetMemoizedMergedTriggerRef();\n  var getMergedTriggerRefNew = useGetMemoizedMergedTriggerRefNew();\n  var generatedId = useId();\n  var _usePopupAppearance = usePopupAppearance({\n      appearance: inAppearance,\n      shouldRenderToParent: inShouldRenderToParent\n    }),\n    appearance = _usePopupAppearance.appearance,\n    shouldRenderToParent = _usePopupAppearance.shouldRenderToParent;\n  var id = providedId || generatedId;\n  var handleOpenLayerObserverCloseSignal = useCallback(function () {\n    onClose === null || onClose === void 0 || onClose(null);\n  }, [onClose]);\n  useNotifyOpenLayerObserver({\n    isOpen: isOpen,\n    onClose: handleOpenLayerObserverCloseSignal\n  });\n  var renderPopperWrapper = /*#__PURE__*/React.createElement(Layering, {\n    isDisabled: false\n  }, /*#__PURE__*/React.createElement(PopperWrapper, {\n    xcss: xcss,\n    appearance: appearance,\n    content: content,\n    isOpen: isOpen,\n    placement: placement,\n    fallbackPlacements: fallbackPlacements,\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    shouldFlip: shouldFlip,\n    offset: offset,\n    popupComponent: PopupContainer,\n    id: id,\n    testId: testId,\n    onClose: onClose,\n    autoFocus: autoFocus,\n    shouldUseCaptureOnOutsideClick: shouldUseCaptureOnOutsideClick,\n    shouldRenderToParent: shouldRenderToParent || shouldFitContainer,\n    shouldFitContainer: shouldFitContainer,\n    shouldDisableFocusLock: shouldDisableFocusLock,\n    shouldReturnFocus: shouldReturnFocus,\n    triggerRef: triggerRef,\n    strategy: shouldFitContainer ? 'absolute' : strategy,\n    role: role,\n    label: label,\n    titleId: titleId,\n    modifiers: modifiers,\n    shouldFitViewport: shouldFitViewport\n  }));\n  var popupContent = /*#__PURE__*/React.createElement(Manager, null, /*#__PURE__*/React.createElement(Reference, null, function (_ref2) {\n    var ref = _ref2.ref;\n    return trigger({\n      ref: !fg('platform-design-system-popup-ref') ? getMergedTriggerRef(ref, setTriggerRef, isOpen) : getMergedTriggerRefNew(ref, setTriggerRef),\n      'aria-controls': isOpen ? id : undefined,\n      'aria-expanded': isOpen,\n      'aria-haspopup': role === 'dialog' && fg('platform_dst_popup-disable-focuslock') ? 'dialog' : true\n    });\n  }), isOpen && (shouldRenderToParent || shouldFitContainer ? renderPopperWrapper : /*#__PURE__*/React.createElement(Portal, {\n    zIndex: zIndex\n  }, renderPopperWrapper)));\n  if (shouldFitContainer) {\n    return /*#__PURE__*/React.createElement(Box, {\n      xcss: wrapperStyles.root\n    }, popupContent);\n  }\n  return popupContent;\n});", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { createContext, useContext, useEffect, useMemo, useRef } from 'react';\nimport __noop from '@atlaskit/ds-lib/noop';\nimport { fg } from '@atlaskit/platform-feature-flags';\n\n/**\n *\n *  @internal\n * LevelContext which maintains the current level of nested layers\n * Default is 0\n */\nexport var LevelContext = /*#__PURE__*/createContext(0);\n\n/**\n *\n *  @internal\n * TopLevelContext which maintains the top level ref and setTopLevel method of layers\n * Default ref value is null\n *\n */\nexport var TopLevelContext = /*#__PURE__*/createContext({\n  topLevelRef: {\n    current: null\n  },\n  layerList: {\n    current: null\n  },\n  setTopLevel: __noop\n});\n\n/**\n *\n *  @internal\n * Context Provider Component which provider the current level of nested layers\n * It handles level management when it mounts and unmounts\n *\n */\nvar LevelProvider = function LevelProvider(_ref) {\n  var children = _ref.children,\n    currentLevel = _ref.currentLevel;\n  var _useContext = useContext(TopLevelContext),\n    setTopLevel = _useContext.setTopLevel,\n    topLevelRef = _useContext.topLevelRef,\n    layerList = _useContext.layerList;\n  // This is not unstable, it will run once for ref creation.\n  // eslint-disable-next-line  @repo/internal/react/disallow-unstable-values\n  var id = useRef(fg('layering-top-level-use-array') ? Math.random().toString(36) : '');\n  if (!fg('layering-top-level-use-array')) {\n    if (topLevelRef.current === null || currentLevel > topLevelRef.current) {\n      setTopLevel(currentLevel);\n    }\n  }\n  if (!fg('layering-top-level-use-array')) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      return function () {\n        // avoid immediate cleanup using setTimeout when component unmount\n        // this will make sure non-top layer components can get the correct top level value\n        // when multiple layers trigger onClose in sequence\n        setTimeout(function () {\n          setTopLevel(currentLevel - 1);\n        }, 0);\n      };\n    }, [setTopLevel, currentLevel, topLevelRef]);\n  }\n  if (fg('layering-top-level-use-array')) {\n    // Remove eslint error on FG cleanup\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      var safeLayerList = layerList === null || layerList === void 0 ? void 0 : layerList.current;\n      var safeId = id.current;\n      if (!safeLayerList) {\n        return;\n      }\n      safeLayerList.push(safeId);\n      return function () {\n        var index = safeLayerList.indexOf(safeId);\n        if (index > -1) {\n          safeLayerList.splice(index, 1);\n        }\n      };\n    }, [layerList, id]);\n  }\n  return /*#__PURE__*/React.createElement(LevelContext.Provider, {\n    value: currentLevel\n  }, children);\n};\n\n/**\n *\n *  @internal\n * Context Provider Component which provides the top level of all nested layers\n * It provides initial top level ref value as 0 and set top level method\n *\n */\nvar LayeringProvider = function LayeringProvider(_ref2) {\n  var children = _ref2.children;\n  var topLevelRef = useRef(0);\n  var layerList = useRef([]);\n  var value = useMemo(function () {\n    return _objectSpread({\n      topLevelRef: topLevelRef,\n      setTopLevel: function setTopLevel(level) {\n        topLevelRef.current = level;\n      }\n    }, fg('layering-top-level-use-array') ? {\n      layerList: layerList\n    } : {});\n  }, [topLevelRef]);\n  return /*#__PURE__*/React.createElement(TopLevelContext.Provider, {\n    value: value\n  }, children);\n};\n\n/**\n *\n * @important the component is toggled by isDisabled props, the default isDisabled is true\n *\n * Layering component is a wrapper to let children to consume layer contexts and hooks.\n *\n */\nexport var Layering = function Layering(_ref3) {\n  var children = _ref3.children,\n    _ref3$isDisabled = _ref3.isDisabled,\n    isDisabled = _ref3$isDisabled === void 0 ? true : _ref3$isDisabled;\n  var currentLevel = useContext(LevelContext);\n  if (isDisabled) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n  var isNested = currentLevel > 0;\n  var content = /*#__PURE__*/React.createElement(LevelProvider, {\n    currentLevel: currentLevel + 1\n  }, children);\n  return isNested ? content : /*#__PURE__*/React.createElement(LayeringProvider, null, content);\n};", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useCallback, useContext, useEffect, useRef } from 'react';\nimport { bindAll } from 'bind-event-listener';\nimport { fg } from '@atlaskit/platform-feature-flags';\nimport { LevelContext, TopLevelContext } from '../components/layering-context';\nvar ESCAPE = 'Escape';\n/**\n * Calls back when the escape key is pressed.\n * To be used exclusively for closing layered components.\n * Use the `isDisabled` argument to ignore closing events.\n *\n * ```js\n * useCloseOnEscapePress({\n *   onClose: () => {},\n *   isDisabled: false,\n * });\n * ```\n */\nexport function useCloseOnEscapePress(_ref) {\n  var onClose = _ref.onClose,\n    isDisabled = _ref.isDisabled;\n  var escapePressed = useRef(false);\n  var _useLayering = useLayering(),\n    isLayerDisabled = _useLayering.isLayerDisabled;\n  var onKeyDown = useCallback(function (e) {\n    var isDisabledLayer = isLayerDisabled();\n    if (isDisabled || escapePressed.current || e.key !== ESCAPE || isDisabledLayer) {\n      // We're either already handling the key down event or it's not escape or disabled.\n      // Bail early!\n      return;\n    }\n    escapePressed.current = true;\n    onClose(e);\n  }, [onClose, isDisabled, isLayerDisabled]);\n  var onKeyUp = useCallback(function () {\n    escapePressed.current = false;\n  }, []);\n  useEffect(function () {\n    return bindAll(window, [{\n      type: 'keydown',\n      listener: onKeyDown\n    }, {\n      type: 'keyup',\n      listener: onKeyUp\n    }], {\n      capture: false\n    });\n  }, [onKeyDown, onKeyUp]);\n}\n\n/**\n *\n * Layering hook to get layering info like the current level, the top level of the given component\n *\n */\nexport function useLayering() {\n  var currentLevel = useContext(LevelContext);\n  var _useContext = useContext(TopLevelContext),\n    topLevelRef = _useContext.topLevelRef,\n    layerList = _useContext.layerList;\n  var isLayerDisabled = useCallback(function () {\n    if (fg('layering-top-level-use-array')) {\n      var _layerList$current$le, _layerList$current;\n      return ((_layerList$current$le = layerList === null || layerList === void 0 || (_layerList$current = layerList.current) === null || _layerList$current === void 0 ? void 0 : _layerList$current.length) !== null && _layerList$current$le !== void 0 ? _layerList$current$le : 0) !== currentLevel;\n    }\n    return !!topLevelRef.current && currentLevel !== topLevelRef.current;\n  }, [currentLevel, topLevelRef, layerList]);\n  return _objectSpread({\n    currentLevel: currentLevel,\n    topLevelRef: topLevelRef,\n    isLayerDisabled: isLayerDisabled\n  }, fg('layering-top-level-use-array') ? {\n    layerList: layerList\n  } : {});\n}", "/* popper-wrapper.tsx generated by @compiled/babel-plugin v0.36.1 */\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"shouldRenderToParent\", \"shouldFitContainer\", \"children\", \"appearance\", \"className\"];\nimport \"./popper-wrapper.compiled.css\";\nimport * as React from 'react';\nimport { forwardRef, Fragment, useMemo, useState } from 'react';\nimport { ax, ix } from '@compiled/react/runtime';\nimport { useLayering } from '@atlaskit/layering';\nimport { fg } from '@atlaskit/platform-feature-flags';\nimport { Popper } from '@atlaskit/popper';\nimport { RepositionOnUpdate } from './reposition-on-update';\nimport { useCloseManager } from './use-close-manager';\nimport { useFocusManager } from './use-focus-manager';\nvar LOCAL_CURRENT_SURFACE_CSS_VAR = '--ds-elevation-surface-current';\nvar fullWidthStyles = null;\nvar wrapperStyles = {\n  root: \"_2rkoglpi _1e0c1ule _vchhusvi _1pby1nn1 _bfhk1bhr _16qs1cd0 _syaz1fxt _1q1l1bhr _nt751r31 _49pcglyw _1hvw1o36\"\n};\nvar scrollableStyles = null;\nvar blanketStyles = null;\nvar modalStyles = null;\nvar focusRingStyles = {\n  root: \"_mizu194a _1ah31bk5 _ra3xnqa1 _128m1bk5 _1cvmnqa1 _4davt94y\"\n};\nvar DefaultPopupComponent = /*#__PURE__*/forwardRef(function (props, ref) {\n  var shouldRenderToParent = props.shouldRenderToParent,\n    shouldFitContainer = props.shouldFitContainer,\n    children = props.children,\n    appearance = props.appearance,\n    className = props.className,\n    htmlAttributes = _objectWithoutProperties(props, _excluded);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/no-classname-prop\n    className: ax([wrapperStyles.root, appearance === 'UNSAFE_modal-below-sm' && \"_dk5d1b66 _c71ldtre _kqsw1n9t _152t1b66\", !shouldRenderToParent && \"_1reo1wug _18m91wug\", shouldFitContainer && \"_1bsb1osq\", className])\n  }, htmlAttributes, {\n    ref: ref\n  }), children);\n});\nfunction PopperWrapper(_ref) {\n  var xcss = _ref.xcss,\n    isOpen = _ref.isOpen,\n    id = _ref.id,\n    offset = _ref.offset,\n    testId = _ref.testId,\n    content = _ref.content,\n    fallbackPlacements = _ref.fallbackPlacements,\n    onClose = _ref.onClose,\n    boundary = _ref.boundary,\n    rootBoundary = _ref.rootBoundary,\n    shouldFlip = _ref.shouldFlip,\n    _ref$placement = _ref.placement,\n    placement = _ref$placement === void 0 ? 'auto' : _ref$placement,\n    _ref$popupComponent = _ref.popupComponent,\n    PopupContainer = _ref$popupComponent === void 0 ? DefaultPopupComponent : _ref$popupComponent,\n    _ref$autoFocus = _ref.autoFocus,\n    autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n    triggerRef = _ref.triggerRef,\n    shouldUseCaptureOnOutsideClick = _ref.shouldUseCaptureOnOutsideClick,\n    shouldRenderToParent = _ref.shouldRenderToParent,\n    shouldFitContainer = _ref.shouldFitContainer,\n    shouldDisableFocusLock = _ref.shouldDisableFocusLock,\n    _ref$shouldReturnFocu = _ref.shouldReturnFocus,\n    shouldReturnFocus = _ref$shouldReturnFocu === void 0 ? true : _ref$shouldReturnFocu,\n    strategy = _ref.strategy,\n    role = _ref.role,\n    label = _ref.label,\n    titleId = _ref.titleId,\n    modifiers = _ref.modifiers,\n    shouldFitViewport = _ref.shouldFitViewport,\n    _ref$appearance = _ref.appearance,\n    appearance = _ref$appearance === void 0 ? 'default' : _ref$appearance;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    popupRef = _useState2[0],\n    setPopupRef = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    initialFocusRef = _useState4[0],\n    setInitialFocusRef = _useState4[1];\n  // We have cases where we need to close the Popup on Tab press, e.g. DropdownMenu\n  var shouldCloseOnTab = shouldRenderToParent && shouldDisableFocusLock;\n  var shouldDisableFocusTrap = role !== 'dialog';\n  useFocusManager({\n    initialFocusRef: initialFocusRef,\n    popupRef: popupRef,\n    shouldCloseOnTab: shouldCloseOnTab,\n    triggerRef: triggerRef,\n    autoFocus: autoFocus,\n    shouldDisableFocusTrap: shouldDisableFocusTrap,\n    shouldReturnFocus: shouldReturnFocus\n  });\n  useCloseManager({\n    isOpen: isOpen,\n    onClose: onClose,\n    popupRef: popupRef,\n    triggerRef: triggerRef,\n    shouldUseCaptureOnOutsideClick: shouldUseCaptureOnOutsideClick,\n    shouldCloseOnTab: shouldCloseOnTab,\n    autoFocus: autoFocus,\n    shouldDisableFocusTrap: shouldDisableFocusTrap,\n    shouldRenderToParent: shouldRenderToParent\n  });\n  var _useLayering = useLayering(),\n    currentLevel = _useLayering.currentLevel;\n  var mergedModifiers = useMemo(function () {\n    return [{\n      name: 'flip',\n      enabled: shouldFlip,\n      options: {\n        rootBoundary: rootBoundary,\n        boundary: boundary,\n        fallbackPlacements: fallbackPlacements\n      }\n    }].concat(_toConsumableArray(modifiers || []));\n  }, [shouldFlip, rootBoundary, boundary, fallbackPlacements, modifiers]);\n  return /*#__PURE__*/React.createElement(Popper, {\n    placement: placement,\n    offset: offset,\n    modifiers: mergedModifiers,\n    strategy: strategy,\n    shouldFitViewport: shouldFitViewport\n  }, function (_ref2) {\n    var _ref3 = _ref2.ref,\n      style = _ref2.style,\n      placement = _ref2.placement,\n      update = _ref2.update;\n    var popupContainer = /*#__PURE__*/React.createElement(PopupContainer\n    // eslint-disable-next-line @atlaskit/ui-styling-standard/no-classname-prop\n    , {\n      className: ax([xcss,\n      // @ts-expect-error: `ax` is not typed correctly\n      !initialFocusRef &&\n      // eslint-disable-next-line @atlaskit/platform/ensure-feature-flag-prefix\n      fg('platform-design-system-apply-popup-wrapper-focus') && focusRingStyles.root]),\n      appearance: appearance,\n      id: id,\n      \"data-ds--level\": currentLevel,\n      \"data-placement\": placement,\n      \"data-testid\": testId,\n      role: role,\n      \"aria-label\": label,\n      \"aria-labelledby\": titleId,\n      ref: function ref(node) {\n        if (node) {\n          if (typeof _ref3 === 'function') {\n            _ref3(node);\n          } else {\n            _ref3.current = node;\n          }\n          setPopupRef(node);\n        }\n      }\n      // eslint-disable-next-line @atlaskit/ui-styling-standard/enforce-style-prop -- Ignored via go/DSP-18766\n      ,\n      style: appearance === 'UNSAFE_modal-below-sm' ? {} : style\n      // using tabIndex={-1} would cause a bug where Safari focuses\n      // first on the browser address bar when using keyboard\n      ,\n      tabIndex: autoFocus ? 0 : undefined,\n      shouldRenderToParent: shouldRenderToParent,\n      shouldFitContainer: shouldFitContainer\n    }, /*#__PURE__*/React.createElement(RepositionOnUpdate, {\n      update: update\n    }, content({\n      update: update,\n      isOpen: isOpen,\n      onClose: onClose,\n      setInitialFocusRef: setInitialFocusRef\n    })));\n    return /*#__PURE__*/React.createElement(Fragment, null, popupContainer, appearance === 'UNSAFE_modal-below-sm' && /*#__PURE__*/React.createElement(\"div\", {\n      className: ax([\"_1r04idpf _kqsw1n9t _bfhk10xm\"])\n    }));\n  });\n}\n\n// eslint-disable-next-line @repo/internal/react/require-jsdoc\nexport default PopperWrapper;", "import React, { Fragment, useLayoutEffect, useRef } from 'react';\n// eslint-disable-next-line @repo/internal/react/require-jsdoc\nexport var RepositionOnUpdate = function RepositionOnUpdate(_ref) {\n  var children = _ref.children,\n    update = _ref.update;\n  // Ref used here to skip update on first render (when refs haven't been set)\n  var isFirstRenderRef = useRef(true);\n  useLayoutEffect(function () {\n    if (isFirstRenderRef.current) {\n      isFirstRenderRef.current = false;\n      return;\n    }\n    // callback function from popper that repositions pop-up on content Update\n    update();\n  }, [update]);\n\n  // wrapping in fragment to make TS happy (known issue with FC returning children)\n  return /*#__PURE__*/React.createElement(Fragment, null, children);\n};", "// eslint-disable-next-line @typescript-eslint/consistent-type-imports\nimport { useEffect } from 'react';\nimport { bind, bindAll } from 'bind-event-listener';\nimport noop from '@atlaskit/ds-lib/noop';\nimport { useLayering } from '@atlaskit/layering';\nimport { fg } from '@atlaskit/platform-feature-flags';\nimport { isInteractiveElement } from './utils/is-element-interactive';\nimport { useAnimationFrame } from './utils/use-animation-frame';\nexport var useCloseManager = function useCloseManager(_ref) {\n  var isOpen = _ref.isOpen,\n    onClose = _ref.onClose,\n    popupRef = _ref.popupRef,\n    triggerRef = _ref.triggerRef,\n    autoFocus = _ref.autoFocus,\n    shouldDisableFocusTrap = _ref.shouldDisableFocusTrap,\n    capture = _ref.shouldUseCaptureOnOutsideClick,\n    shouldCloseOnTab = _ref.shouldCloseOnTab,\n    shouldRenderToParent = _ref.shouldRenderToParent;\n  var _useLayering = useLayering(),\n    isLayerDisabled = _useLayering.isLayerDisabled,\n    currentLevel = _useLayering.currentLevel;\n  var _useAnimationFrame = useAnimationFrame(),\n    requestFrame = _useAnimationFrame.requestFrame,\n    cancelAllFrames = _useAnimationFrame.cancelAllFrames;\n  useEffect(function () {\n    if (!isOpen || !popupRef) {\n      return noop;\n    }\n    var inIframe = window && window.self !== window.top && fg('fix-dropdown-close-outside-iframe');\n    var closePopup = function closePopup(event) {\n      if (onClose) {\n        if (fg('sibling-dropdown-close-issue')) {\n          var _currentLevel = null;\n          if (event.target instanceof HTMLElement) {\n            var _event$target$closest;\n            _currentLevel = (_event$target$closest = event.target.closest(\"[data-ds--level]\")) === null || _event$target$closest === void 0 ? void 0 : _event$target$closest.getAttribute('data-ds--level');\n          }\n          _currentLevel ? onClose(event, Number(_currentLevel)) : onClose(event);\n        } else {\n          onClose(event);\n        }\n      }\n      if (shouldDisableFocusTrap && fg('platform_dst_popup-disable-focuslock')) {\n        // Restoring the normal focus order for trigger.\n        requestFrame(function () {\n          triggerRef === null || triggerRef === void 0 || triggerRef.setAttribute('tabindex', '0');\n          if (popupRef && autoFocus) {\n            popupRef.setAttribute('tabindex', '0');\n          }\n        });\n      }\n    };\n\n    // This check is required for cases where components like\n    // Select or DDM are placed inside a Popup. A click\n    // on a MenuItem or Option would close the Popup, without registering\n    // a click on DDM/Select.\n    // Users would have to call `onClose` manually to close the Popup in these cases.\n    // You can see the bug in action here:\n    // https://codesandbox.io/s/atlaskitpopup-default-forked-2eb87?file=/example.tsx:0-1788\n    var onClick = function onClick(event) {\n      var target = event.target;\n      var doesDomNodeExist = document.body.contains(target);\n      if (!doesDomNodeExist && !inIframe) {\n        return;\n      }\n      if (isLayerDisabled()) {\n        if (fg('design-system-closed-all-when-click-outside')) {\n          if (target instanceof HTMLElement) {\n            var _target$closest;\n            var layeredElement = (_target$closest = target.closest) === null || _target$closest === void 0 ? void 0 : _target$closest.call(target, \"[data-ds--level]\");\n            if (layeredElement) {\n              var closeType = layeredElement.getAttribute('[data-ds--close--type]');\n              if (closeType === 'single') {\n                // if the close type is single, we won't close other disabled layers when clicking outside\n                return;\n              }\n              var levelOfClickedLayer = layeredElement.getAttribute('data-ds--level');\n              if (levelOfClickedLayer && Number(levelOfClickedLayer) > currentLevel) {\n                // won't trigger onClick event when we click in a higher layer.\n                return;\n              }\n            }\n          }\n        } else {\n          return;\n        }\n      }\n      var isClickOnPopup = popupRef && popupRef.contains(target);\n      var isClickOnTrigger = triggerRef && triggerRef.contains(target);\n      if (!isClickOnPopup && !isClickOnTrigger) {\n        closePopup(event);\n        // If there was an outside click on a non-interactive element, the focus should be on the trigger.\n        if (document.activeElement && !isInteractiveElement(document.activeElement) && fg('platform_dst_popup-disable-focuslock')) {\n          triggerRef === null || triggerRef === void 0 || triggerRef.focus();\n        }\n      }\n    };\n    var onKeyDown = function onKeyDown(event) {\n      if (fg('platform_dst_popup-disable-focuslock')) {\n        var key = event.key,\n          shiftKey = event.shiftKey;\n        if (shiftKey && key === 'Tab' && !shouldRenderToParent) {\n          if (isLayerDisabled()) {\n            return;\n          }\n          // We need to move the focus to the popup trigger when the popup is displayed in React.Portal.\n          requestFrame(function () {\n            var isPopupFocusOut = popupRef && !popupRef.contains(document.activeElement);\n            if (isPopupFocusOut) {\n              closePopup(event);\n              if (currentLevel === 1) {\n                triggerRef === null || triggerRef === void 0 || triggerRef.focus();\n              }\n            }\n          });\n          return;\n        }\n        if (key === 'Tab') {\n          var _document$activeEleme;\n          // We have cases where we need to close the Popup on Tab press.\n          // Example: DropdownMenu\n          if (shouldCloseOnTab) {\n            if (isLayerDisabled()) {\n              return;\n            }\n            closePopup(event);\n            return;\n          }\n          if (isLayerDisabled() && (_document$activeEleme = document.activeElement) !== null && _document$activeEleme !== void 0 && _document$activeEleme.closest('[aria-modal]')) {\n            return;\n          }\n          if (shouldDisableFocusTrap) {\n            if (shouldRenderToParent) {\n              // We need to move the focus to the previous interactive element before popup trigger\n              requestFrame(function () {\n                var isPopupFocusOut = popupRef && !popupRef.contains(document.activeElement);\n                if (isPopupFocusOut) {\n                  closePopup(event);\n                }\n              });\n            } else {\n              requestFrame(function () {\n                if (!document.hasFocus()) {\n                  closePopup(event);\n                }\n              });\n            }\n            return;\n          }\n        }\n        if (isLayerDisabled()) {\n          return;\n        }\n        if (key === 'Escape' || key === 'Esc') {\n          if (triggerRef && autoFocus) {\n            triggerRef.focus();\n          }\n          closePopup(event);\n        }\n      } else {\n        if (isLayerDisabled()) {\n          return;\n        }\n        var _key = event.key;\n        if (_key === 'Escape' || _key === 'Esc' || shouldCloseOnTab && _key === 'Tab') {\n          closePopup(event);\n        }\n      }\n    };\n    var parentUnbind;\n    // if the popup is inside iframe, we want to listen to click events outside iframe,\n    // to close the popup correctly in the iframe.\n    if (inIframe && isOpen) {\n      parentUnbind = bind(window.parent.window, {\n        type: 'click',\n        listener: onClick,\n        options: {\n          capture: capture\n        }\n      });\n    }\n    var unbind = noop;\n    if (fg('popup-onclose-fix')) {\n      setTimeout(function () {\n        unbind = bindAll(window, [{\n          type: 'click',\n          listener: onClick,\n          options: {\n            capture: capture\n          }\n        }, {\n          type: 'keydown',\n          listener: onKeyDown\n        }]);\n      }, 0);\n    } else {\n      unbind = bindAll(window, [{\n        type: 'click',\n        listener: onClick,\n        options: {\n          capture: capture\n        }\n      }, {\n        type: 'keydown',\n        listener: onKeyDown\n      }]);\n    }\n\n    // bind onBlur event listener to fix popup not close when clicking on iframe outside\n    var unbindBlur = noop;\n    unbindBlur = bind(window, {\n      type: 'blur',\n      listener: function onBlur(e) {\n        if (isLayerDisabled() || !(document.activeElement instanceof HTMLIFrameElement)) {\n          return;\n        }\n        closePopup(e);\n      }\n    });\n    return function () {\n      var _parentUnbind;\n      if (fg('popup-onclose-fix')) {\n        setTimeout(function () {\n          unbind();\n        }, 0);\n      } else {\n        unbind();\n      }\n      cancelAllFrames();\n      (_parentUnbind = parentUnbind) === null || _parentUnbind === void 0 || _parentUnbind();\n      unbindBlur();\n    };\n  }, [isOpen, onClose, popupRef, triggerRef, autoFocus, shouldDisableFocusTrap, capture, isLayerDisabled, shouldCloseOnTab, currentLevel, shouldRenderToParent, requestFrame, cancelAllFrames]);\n};", "var interactiveTags = ['button', 'a', 'input', 'select', 'textarea'];\nexport var isInteractiveElement = function isInteractiveElement(element) {\n  if (interactiveTags.includes(element.tagName.toLowerCase())) {\n    return true;\n  }\n  if (element.getAttribute('tabindex') !== null || element.hasAttribute('contenteditable')) {\n    return true;\n  }\n  return false;\n};", "import { useCallback, useRef } from 'react';\nexport var useAnimationFrame = function useAnimationFrame() {\n  var animationsRef = useRef([]);\n  var requestFrame = useCallback(function (callback) {\n    var id = requestAnimationFrame(callback);\n    animationsRef.current.push(id);\n    return id;\n  }, []);\n  var cancelFrame = useCallback(function (id) {\n    cancelAnimationFrame(id);\n    animationsRef.current = animationsRef.current.filter(function (frameId) {\n      return frameId !== id;\n    });\n  }, []);\n  var cancelAllFrames = useCallback(function () {\n    animationsRef.current.forEach(function (id) {\n      return cancelAnimationFrame(id);\n    });\n    animationsRef.current = [];\n  }, []);\n  return {\n    requestFrame: requestFrame,\n    cancelFrame: cancelFrame,\n    cancelAllFrames: cancelAllFrames\n  };\n};", "import { useEffect } from 'react';\nimport createFocusTrap from 'focus-trap';\nimport noop from '@atlaskit/ds-lib/noop';\nimport { useLayering } from '@atlaskit/layering';\nimport { fg } from '@atlaskit/platform-feature-flags';\nimport { useAnimationFrame } from './utils/use-animation-frame';\nexport var useFocusManager = function useFocusManager(_ref) {\n  var initialFocusRef = _ref.initialFocusRef,\n    popupRef = _ref.popupRef,\n    triggerRef = _ref.triggerRef,\n    autoFocus = _ref.autoFocus,\n    shouldCloseOnTab = _ref.shouldCloseOnTab,\n    shouldDisableFocusTrap = _ref.shouldDisableFocusTrap,\n    shouldReturnFocus = _ref.shouldReturnFocus,\n    shouldRenderToParent = _ref.shouldRenderToParent;\n  var _useAnimationFrame = useAnimationFrame(),\n    requestFrame = _useAnimationFrame.requestFrame,\n    cancelAllFrames = _useAnimationFrame.cancelAllFrames;\n  var _useLayering = useLayering(),\n    currentLevel = _useLayering.currentLevel;\n  useEffect(function () {\n    if (!popupRef || shouldCloseOnTab) {\n      return noop;\n    }\n    if (shouldDisableFocusTrap && fg('platform_dst_popup-disable-focuslock')) {\n      var isDropdown = popupRef.matches('[id^=ds--dropdown--]');\n      var popups = document.querySelectorAll(\"[data-ds--level=\\\"\".concat(currentLevel - 1, \"\\\"]\"));\n      if (!(popups[popups.length - 1] && !shouldRenderToParent && isDropdown)) {\n        // Plucking trigger & popup content container from the tab order so that\n        // when we Shift+Tab, the focus moves to the element before trigger\n        requestFrame(function () {\n          triggerRef === null || triggerRef === void 0 || triggerRef.setAttribute('tabindex', '-1');\n          if (popupRef && autoFocus) {\n            popupRef.setAttribute('tabindex', '-1');\n          }\n          (initialFocusRef || popupRef).focus();\n        });\n        return noop;\n      }\n    }\n    var trapConfig = {\n      clickOutsideDeactivates: true,\n      escapeDeactivates: true,\n      initialFocus: initialFocusRef || popupRef,\n      fallbackFocus: popupRef,\n      returnFocusOnDeactivate: shouldReturnFocus\n    };\n    var focusTrap = createFocusTrap(popupRef, trapConfig);\n\n    // Wait for the popup to reposition itself before we focus\n    requestFrame(function () {\n      focusTrap.activate();\n    });\n    return function () {\n      cancelAllFrames();\n      focusTrap.deactivate();\n    };\n  }, [popupRef, triggerRef, autoFocus, initialFocusRef, shouldCloseOnTab, shouldDisableFocusTrap, requestFrame, cancelAllFrames, shouldReturnFocus, shouldRenderToParent, currentLevel]);\n};", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from 'react';\nimport { UNSAFE_useMediaQuery as useMediaQuery } from '@atlaskit/primitives/compiled';\n\n/**\n * **usePopupAppearance()**\n *\n * Abstracts away calculating the appearance for a popup including if it should\n * be portalled or not, this is done to ensure that if the popup needs to render\n * as a modal that it is also forcibly portalled. If it's not portalled when rendering\n * as a modal it will appear below the top bar.\n */\nexport function usePopupAppearance(_ref) {\n  var _appearance = _ref.appearance,\n    _shouldRenderToParent = _ref.shouldRenderToParent;\n  var mq = useMediaQuery('below.sm', function (e) {\n    setIsSmallViewport(!!e.matches);\n  });\n  var _useState = useState(!!(mq !== null && mq !== void 0 && mq.matches)),\n    _useState2 = _slicedToArray(_useState, 2),\n    isSmallViewport = _useState2[0],\n    setIsSmallViewport = _useState2[1];\n  var appearance = _appearance === 'UNSAFE_modal-below-sm' && isSmallViewport ? 'UNSAFE_modal-below-sm' : 'default';\n  var shouldRenderToParent = _shouldRenderToParent && appearance === 'default';\n  return {\n    appearance: appearance,\n    shouldRenderToParent: shouldRenderToParent\n  };\n}", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from 'react';\nimport memoizeOne from 'memoize-one';\n\n/*\n * Get a memoized functional ref for use within a Popup's Trigger.\n * This is still very volatile to change as `prop.isOpen` will regularly change, but it's better than nothing.\n * This is memoized within a component as to not be shared across all Popup instances.\n *\n * This is complex because the inputs are split across three different scopes:\n *  - `props.isOpen`\n *  - `useState.setTriggerRef`\n *  - `renderProps.ref`\n */\nexport var useGetMemoizedMergedTriggerRef = function useGetMemoizedMergedTriggerRef() {\n  var _useState = useState(function () {\n      return memoizeOne(function (ref, setTriggerRef, isOpen) {\n        return function (node) {\n          if (node && isOpen) {\n            if (typeof ref === 'function') {\n              ref(node);\n            } else if (ref) {\n              ref.current = node;\n            }\n            setTriggerRef(node);\n          }\n        };\n      });\n    }),\n    _useState2 = _slicedToArray(_useState, 1),\n    getMemoizedMergedTriggerRef = _useState2[0];\n  return getMemoizedMergedTriggerRef;\n};", "var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from 'react';\nimport memoizeOne from 'memoize-one';\n\n/**\n * Here setting ref is not dependent on isOpen flag which is failing in React 18 strict mode\n * Implemented behind ff `platform-design-system-popup-ref`\n * @returns Function to set trigger ref\n */\nexport var useGetMemoizedMergedTriggerRefNew = function useGetMemoizedMergedTriggerRefNew() {\n  var _useState = useState(function () {\n      return memoizeOne(function (ref, setTriggerRef) {\n        return function (node) {\n          if (node) {\n            if (typeof ref === 'function') {\n              ref(node);\n            } else if (ref) {\n              ref.current = node;\n            }\n            setTriggerRef(node);\n          }\n        };\n      });\n    }),\n    _useState2 = _slicedToArray(_useState, 1),\n    getMemoizedMergedTriggerRefNew = _useState2[0];\n  return getMemoizedMergedTriggerRefNew;\n};", "import { Popup } from './popup';\nexport { Popup };\n// eslint-disable-next-line @repo/internal/react/require-jsdoc\nexport default Popup;"],
  "mappings": "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",
  "names": ["require_chevron_down", "require_chevron_down", "React", "import_react", "r", "LevelProvider", "React", "LayeringProvider", "Layering", "import_react", "ownKeys", "r", "_objectSpread", "_objectSpread", "React", "import_react", "import_react", "RepositionOnUpdate", "React", "import_react", "import_bind_event_listener", "isInteractiveElement", "import_react", "useAnimationFrame", "useCloseManager", "closePopup", "onClick", "onKeyDown", "import_react", "useFocusManager", "createFocusTrap", "placement", "import_react", "import_react", "isEqual", "useGetMemoizedMergedTriggerRef", "import_react", "useGetMemoizedMergedTriggerRefNew", "wrapperStyles"]
}
